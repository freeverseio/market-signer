{
  "contractName": "IPaymentsNative",
  "abi": [
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "paymentId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "buyer",
          "type": "address"
        }
      ],
      "name": "BuyerRefunded",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "eip712address",
          "type": "address"
        }
      ],
      "name": "EIP712",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "seller",
          "type": "address"
        }
      ],
      "name": "NewSeller",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "paymentId",
          "type": "bytes32"
        }
      ],
      "name": "Paid",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "paymentId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "buyer",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "seller",
          "type": "address"
        }
      ],
      "name": "PayIn",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "window",
          "type": "uint256"
        }
      ],
      "name": "PaymentWindow",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "Withdraw",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "registerAsSeller",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "components": [
            {
              "internalType": "bytes32",
              "name": "paymentId",
              "type": "bytes32"
            },
            {
              "internalType": "uint256",
              "name": "amount",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "feeBPS",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "universeId",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "deadline",
              "type": "uint256"
            },
            {
              "internalType": "address",
              "name": "buyer",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "seller",
              "type": "address"
            }
          ],
          "internalType": "struct ISignableStructs.PaymentInput",
          "name": "payInput",
          "type": "tuple"
        },
        {
          "internalType": "bytes",
          "name": "operatorSignature",
          "type": "bytes"
        }
      ],
      "name": "pay",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "components": [
            {
              "internalType": "bytes32",
              "name": "paymentId",
              "type": "bytes32"
            },
            {
              "internalType": "bool",
              "name": "wasSuccessful",
              "type": "bool"
            }
          ],
          "internalType": "struct ISignableStructs.AssetTransferResult",
          "name": "transferResult",
          "type": "tuple"
        },
        {
          "internalType": "bytes",
          "name": "operatorSignature",
          "type": "bytes"
        }
      ],
      "name": "finalize",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "components": [
            {
              "internalType": "bytes32",
              "name": "paymentId",
              "type": "bytes32"
            },
            {
              "internalType": "bool",
              "name": "wasSuccessful",
              "type": "bool"
            }
          ],
          "internalType": "struct ISignableStructs.AssetTransferResult",
          "name": "transferResult",
          "type": "tuple"
        },
        {
          "internalType": "bytes",
          "name": "operatorSignature",
          "type": "bytes"
        }
      ],
      "name": "finalizeAndWithdraw",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "paymentId",
          "type": "bytes32"
        }
      ],
      "name": "refund",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "paymentId",
          "type": "bytes32"
        }
      ],
      "name": "refundAndWithdraw",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "withdraw",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "withdrawAmount",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "isSellerRegistrationRequired",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "addr",
          "type": "address"
        }
      ],
      "name": "isRegisteredSeller",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "addr",
          "type": "address"
        }
      ],
      "name": "balanceOf",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "paymentId",
          "type": "bytes32"
        }
      ],
      "name": "paymentInfo",
      "outputs": [
        {
          "components": [
            {
              "internalType": "enum IPaymentsNative.State",
              "name": "state",
              "type": "uint8"
            },
            {
              "internalType": "address",
              "name": "buyer",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "seller",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "operator",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "feesCollector",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "expirationTime",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "feeBPS",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "amount",
              "type": "uint256"
            }
          ],
          "internalType": "struct IPaymentsNative.Payment",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "paymentId",
          "type": "bytes32"
        }
      ],
      "name": "paymentState",
      "outputs": [
        {
          "internalType": "enum IPaymentsNative.State",
          "name": "",
          "type": "uint8"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "paymentId",
          "type": "bytes32"
        }
      ],
      "name": "acceptsRefunds",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "EIP712Address",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "paymentWindow",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "acceptedCurrency",
      "outputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "buyer",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "enoughFundsAvailable",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "buyer",
          "type": "address"
        }
      ],
      "name": "maxFundsAvailable",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "buyer",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "splitFundingSources",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "externalFunds",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "localFunds",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "components": [
            {
              "internalType": "bytes32",
              "name": "paymentId",
              "type": "bytes32"
            },
            {
              "internalType": "uint256",
              "name": "amount",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "feeBPS",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "universeId",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "deadline",
              "type": "uint256"
            },
            {
              "internalType": "address",
              "name": "buyer",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "seller",
              "type": "address"
            }
          ],
          "internalType": "struct ISignableStructs.PaymentInput",
          "name": "payInput",
          "type": "tuple"
        }
      ],
      "name": "checkPaymentInputs",
      "outputs": [],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "feeBPS",
          "type": "uint256"
        }
      ],
      "name": "computeFeeAmount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "pure",
      "type": "function"
    }
  ],
  "metadata": "{\"compiler\":{\"version\":\"0.8.12+commit.f00d7308\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"paymentId\",\"type\":\"bytes32\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"buyer\",\"type\":\"address\"}],\"name\":\"BuyerRefunded\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"eip712address\",\"type\":\"address\"}],\"name\":\"EIP712\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"seller\",\"type\":\"address\"}],\"name\":\"NewSeller\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"paymentId\",\"type\":\"bytes32\"}],\"name\":\"Paid\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"paymentId\",\"type\":\"bytes32\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"buyer\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"seller\",\"type\":\"address\"}],\"name\":\"PayIn\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"window\",\"type\":\"uint256\"}],\"name\":\"PaymentWindow\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"Withdraw\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"EIP712Address\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"acceptedCurrency\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"paymentId\",\"type\":\"bytes32\"}],\"name\":\"acceptsRefunds\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"addr\",\"type\":\"address\"}],\"name\":\"balanceOf\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"bytes32\",\"name\":\"paymentId\",\"type\":\"bytes32\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"feeBPS\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"universeId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"deadline\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"buyer\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"seller\",\"type\":\"address\"}],\"internalType\":\"struct ISignableStructs.PaymentInput\",\"name\":\"payInput\",\"type\":\"tuple\"}],\"name\":\"checkPaymentInputs\",\"outputs\":[],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"feeBPS\",\"type\":\"uint256\"}],\"name\":\"computeFeeAmount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"buyer\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"enoughFundsAvailable\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"bytes32\",\"name\":\"paymentId\",\"type\":\"bytes32\"},{\"internalType\":\"bool\",\"name\":\"wasSuccessful\",\"type\":\"bool\"}],\"internalType\":\"struct ISignableStructs.AssetTransferResult\",\"name\":\"transferResult\",\"type\":\"tuple\"},{\"internalType\":\"bytes\",\"name\":\"operatorSignature\",\"type\":\"bytes\"}],\"name\":\"finalize\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"bytes32\",\"name\":\"paymentId\",\"type\":\"bytes32\"},{\"internalType\":\"bool\",\"name\":\"wasSuccessful\",\"type\":\"bool\"}],\"internalType\":\"struct ISignableStructs.AssetTransferResult\",\"name\":\"transferResult\",\"type\":\"tuple\"},{\"internalType\":\"bytes\",\"name\":\"operatorSignature\",\"type\":\"bytes\"}],\"name\":\"finalizeAndWithdraw\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"addr\",\"type\":\"address\"}],\"name\":\"isRegisteredSeller\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"isSellerRegistrationRequired\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"buyer\",\"type\":\"address\"}],\"name\":\"maxFundsAvailable\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"bytes32\",\"name\":\"paymentId\",\"type\":\"bytes32\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"feeBPS\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"universeId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"deadline\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"buyer\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"seller\",\"type\":\"address\"}],\"internalType\":\"struct ISignableStructs.PaymentInput\",\"name\":\"payInput\",\"type\":\"tuple\"},{\"internalType\":\"bytes\",\"name\":\"operatorSignature\",\"type\":\"bytes\"}],\"name\":\"pay\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"paymentId\",\"type\":\"bytes32\"}],\"name\":\"paymentInfo\",\"outputs\":[{\"components\":[{\"internalType\":\"enum IPaymentsNative.State\",\"name\":\"state\",\"type\":\"uint8\"},{\"internalType\":\"address\",\"name\":\"buyer\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"seller\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"operator\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"feesCollector\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"expirationTime\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"feeBPS\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"internalType\":\"struct IPaymentsNative.Payment\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"paymentId\",\"type\":\"bytes32\"}],\"name\":\"paymentState\",\"outputs\":[{\"internalType\":\"enum IPaymentsNative.State\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"paymentWindow\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"paymentId\",\"type\":\"bytes32\"}],\"name\":\"refund\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"paymentId\",\"type\":\"bytes32\"}],\"name\":\"refundAndWithdraw\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"registerAsSeller\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"buyer\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"splitFundingSources\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"externalFunds\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"localFunds\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"withdraw\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"withdrawAmount\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"author\":\"Freeverse.io, www.freeverse.io\",\"details\":\"Upon transfer of cryptocurrency to this contract, it remains locked until an Operator confirms the success or failure of the asset transfer required to fulfil this payment. If no confirmation is received from the operator during the PaymentWindow, all funds received from the buyer are made available to the buyer for refund. To start a payment, signatures of both the buyer and the Operator are required: - the buyer is the msg.sender (the buyer therefore signs the TX),  - the operator's EIP712-signature of the PaymentInput struct is provided as input to the call. This contract maintains the balances of all users, it does not transfer them automatically. Users need to explicitly call the 'withdraw' method, which withdraws balanceOf[msg.sender] If a buyer has a non-zero local balance at the moment of starting a new payment, the contract reuses it, and only requires the provision of the remainder required (if any) as msg.value Each payment has the following State Machine: - NOT_STARTED -> ASSET_TRANSFERRING, triggered by pay - ASSET_TRANSFERRING -> PAID, triggered by relaying assetTransferSuccess signed by operator - ASSET_TRANSFERRING -> REFUNDED, triggered by relaying assetTransferFailed signed by operator - ASSET_TRANSFERRING -> REFUNDED, triggered by a refund request after expirationTime NOTE: To ensure that the payment process proceeds as expected when the payment starts, upon acceptance of a payment, the following data: {operator, feesCollector, expirationTime} is stored in the payment struct, and used throughout the payment, regardless of any possible modifications to the contract's storage.\",\"events\":{\"BuyerRefunded(bytes32,address)\":{\"details\":\"Event emitted when a buyer is refunded for a given payment process\",\"params\":{\"buyer\":\"The address of the refunded buyer\",\"paymentId\":\"The id of the already initiated payment \"}},\"EIP712(address)\":{\"details\":\"Event emitted on change of EIP712 verifier contract address\",\"params\":{\"eip712address\":\"The address of the new EIP712 verifier contract\"}},\"NewSeller(address)\":{\"details\":\"Event emitted when a user executes the registerAsSeller method\",\"params\":{\"seller\":\"The address of the newly registeredAsSeller user.\"}},\"Paid(bytes32)\":{\"details\":\"Event emitted when a payment process arrives at the PAID   final state, where the seller receives the funds.\",\"params\":{\"paymentId\":\"The id of the already initiated payment \"}},\"PayIn(bytes32,address,address)\":{\"details\":\"Event emitted when funds for a given payment arrive to this contract\",\"params\":{\"buyer\":\"The address of the buyer providing the funds\",\"paymentId\":\"The unique id identifying the payment \",\"seller\":\"The address of the seller of the asset\"}},\"PaymentWindow(uint256)\":{\"details\":\"Event emitted on change of payment window\",\"params\":{\"window\":\"The new amount of time after the arrival of a payment for which,   in absence of confirmation of asset transfer success, a buyer is allowed to refund\"}},\"Withdraw(address,uint256)\":{\"details\":\"Event emitted when user withdraws funds from this contract\",\"params\":{\"amount\":\"The amount withdrawn, in lowest units of the native cryptocurrency\",\"user\":\"The address of the user that withdraws\"}}},\"kind\":\"dev\",\"methods\":{\"EIP712Address()\":{\"returns\":{\"_0\":\"the address of the EIP712 verifier contract\"}},\"acceptedCurrency()\":{\"returns\":{\"_0\":\"the string describing the currency\"}},\"acceptsRefunds(bytes32)\":{\"details\":\"The payment must be in ASSET_TRANSFERRING and beyond expirationTime.\",\"params\":{\"paymentId\":\"The unique ID that identifies the payment.\"},\"returns\":{\"_0\":\"true if the payment accepts a refund to the buyer.\"}},\"balanceOf(address)\":{\"params\":{\"addr\":\"the address that is queried\"},\"returns\":{\"_0\":\"the local balance\"}},\"checkPaymentInputs((bytes32,uint256,uint256,uint256,uint256,address,address))\":{\"params\":{\"payInput\":\"The PaymentInput struct\"}},\"computeFeeAmount(uint256,uint256)\":{\"details\":\"Must return a value that is guaranteed to be less or equal to the provided amount\",\"params\":{\"amount\":\"The amount\",\"feeBPS\":\"The percentage fee expressed in Basis Points (bps).  feeBPS examples:  2.5% = 250 bps, 10% = 1000 bps, 100% = 10000 bps\"},\"returns\":{\"_0\":\"The fee amount\"}},\"enoughFundsAvailable(address,uint256)\":{\"details\":\"In more detail: returns true if the sum of the buyer's local balance in this contract,  plus the external balance in the native crypto, are larger or equal than 'amount'\",\"params\":{\"amount\":\"The amount that is queried\",\"buyer\":\"The address for which funds are queried\"},\"returns\":{\"_0\":\"Returns true if enough funds are available\"}},\"finalize((bytes32,bool),bytes)\":{\"details\":\"Can be executed by anyone, but the operator signature must be included as input param.  Seller or Buyer's balances are updated, allowing explicit withdrawal.  Moves payment to PAID or REFUNDED state on transfer success/failure, respectively.\",\"params\":{\"operatorSignature\":\"The operator signature of transferResult\",\"transferResult\":\"The asset transfer result struct signed by the operator.\"}},\"finalizeAndWithdraw((bytes32,bool),bytes)\":{\"details\":\"Can be executed by anyone, but the operator signature must be included as input param.  It is, however, expected to be executed by the seller, in case of a successful asset transfer,  or the buyer, in case of a failed asset transfer.  Moves payment to PAID or REFUNDED state on transfer success/failure, respectively.\",\"params\":{\"operatorSignature\":\"The operator signature of transferResult\",\"transferResult\":\"The asset transfer result struct signed by the operator.\"}},\"isRegisteredSeller(address)\":{\"params\":{\"addr\":\"the address that is queried\"},\"returns\":{\"_0\":\"Returns whether the address is registered as seller\"}},\"isSellerRegistrationRequired()\":{\"returns\":{\"_0\":\"Returns true if sellers need to be registered to be able to accept payments\"}},\"maxFundsAvailable(address)\":{\"details\":\"In more detail: returns the sum of the buyer's local balance in this contract,  plus the external balance in the native crypto.\",\"params\":{\"buyer\":\"The address for which funds are queried\"},\"returns\":{\"_0\":\"the max funds available\"}},\"pay((bytes32,uint256,uint256,uint256,uint256,address,address),bytes)\":{\"details\":\"Executed by the buyer, who relays the MetaTX with the operator's signature.  The buyer must provide the correct amount via msg.value.  If all requirements are fulfilled, it stores the data relevant  for the next steps of the payment, and it locks the funds  in this contract.  Follows standard Checks-Effects-Interactions pattern  to protect against re-entrancy attacks.  Moves payment to ASSET_TRANSFERRING state.\",\"params\":{\"operatorSignature\":\"The signature of 'payInput' by the operator\",\"payInput\":\"The struct containing all required payment data\"}},\"paymentInfo(bytes32)\":{\"params\":{\"paymentId\":\"The unique ID that identifies the payment.\"},\"returns\":{\"_0\":\"the struct stored for the payment\"}},\"paymentState(bytes32)\":{\"details\":\"If payment is in ASSET_TRANSFERRING, it may be worth  checking acceptsRefunds ot check if it has gone beyond expirationTime.\",\"params\":{\"paymentId\":\"The unique ID that identifies the payment.\"},\"returns\":{\"_0\":\"the state of the payment.\"}},\"paymentWindow()\":{\"returns\":{\"_0\":\"the payment window in secs\"}},\"refund(bytes32)\":{\"details\":\"Anybody can call this function.  Requires acceptsRefunds == true to proceed.  After updating buyer's balance, he/she can later withdraw.  Moves payment to REFUNDED state.\",\"params\":{\"paymentId\":\"The unique ID that identifies the payment.\"}},\"refundAndWithdraw(bytes32)\":{\"details\":\"Anybody can call this function.  Requires acceptsRefunds == true to proceed.  All of msg.sender's balance in the contract is withdrawn,  not only the part that was locked in this particular paymentId  Moves payment to REFUNDED state.\",\"params\":{\"paymentId\":\"The unique ID that identifies the payment.\"}},\"splitFundingSources(address,uint256)\":{\"params\":{\"amount\":\"The amount to be split\",\"buyer\":\"The address for which the amount is to be split\"},\"returns\":{\"externalFunds\":\"The amount of funds required to be transferred from the external buyer balance\",\"localFunds\":\"The amount of local funds that will be used.\"}},\"withdrawAmount(uint256)\":{\"params\":{\"amount\":\"The required amount to withdraw\"}}},\"title\":\"Interface to Payments Contract in Native Cryptocurencies.\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"EIP712Address()\":{\"notice\":\"Returns the address of the of the contract containing  the implementation of the EIP712 verifying functions\"},\"acceptedCurrency()\":{\"notice\":\"Returns a descriptor about the currency that this contract accepts\"},\"acceptsRefunds(bytes32)\":{\"notice\":\"Returns true if the payment accepts a refund to the buyer\"},\"balanceOf(address)\":{\"notice\":\"Returns the local balance of the provided address that is stored in this  contract, and hence, available for withdrawal.\"},\"checkPaymentInputs((bytes32,uint256,uint256,uint256,uint256,address,address))\":{\"notice\":\"Reverts unless the requirements for a PaymentInput are fulfilled.\"},\"computeFeeAmount(uint256,uint256)\":{\"notice\":\"Safe computation of fee amount for a provided amount, feeBPS pair\"},\"enoughFundsAvailable(address,uint256)\":{\"notice\":\"Returns true if the 'amount' required for a payment is available to this contract.\"},\"finalize((bytes32,bool),bytes)\":{\"notice\":\"Relays the operator signature declaring that the asset transfer was successful or failed,  and updates balances of seller or buyer, respectively.\"},\"finalizeAndWithdraw((bytes32,bool),bytes)\":{\"notice\":\"Relays the operator signature declaring that the asset transfer was successful or failed,  updates balances of seller or buyer, respectively,  and proceeds to withdraw all funds in this contract available to msg.sender.\"},\"isRegisteredSeller(address)\":{\"notice\":\"Returns true if the address provided is a registered seller\"},\"isSellerRegistrationRequired()\":{\"notice\":\"Returns whether sellers need to be registered to be able to accept payments\"},\"maxFundsAvailable(address)\":{\"notice\":\"Returns the maximum amount of funds available to a buyer\"},\"pay((bytes32,uint256,uint256,uint256,uint256,address,address),bytes)\":{\"notice\":\"Starts Payment process by the buyer.\"},\"paymentInfo(bytes32)\":{\"notice\":\"Returns all data stored in a payment\"},\"paymentState(bytes32)\":{\"notice\":\"Returns the state of a payment.\"},\"paymentWindow()\":{\"notice\":\"Returns the amount of seconds that a payment  can remain in ASSET_TRANSFERRING state without positive  or negative confirmation by the operator\"},\"refund(bytes32)\":{\"notice\":\"Moves buyer's provided funds to buyer's balance.\"},\"refundAndWithdraw(bytes32)\":{\"notice\":\"Executes refund and withdraw in one transaction.\"},\"registerAsSeller()\":{\"notice\":\"Registers msg.sender as seller so that, if the contract has set  _isSellerRegistrationRequired = true, then payments will be accepted with  msg.sender as seller.\"},\"splitFundingSources(address,uint256)\":{\"notice\":\"Splits the funds required to pay 'amount' into two sources:  - externalFunds: the amount of crypto required to be transferred from the external buyer balance  - localFunds: the amount of crypto required from the buyer's already available balance in this contract.\"},\"withdraw()\":{\"notice\":\"Transfers funds avaliable in this  contract's balanceOf[msg.sender] to msg.sender\"},\"withdrawAmount(uint256)\":{\"notice\":\"Transfers only the specified amount  from this contract's balanceOf[msg.sender] to msg.sender.  Reverts if balanceOf[msg.sender] < amount.\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"project:/contracts/IPaymentsNative.sol\":\"IPaymentsNative\"},\"evmVersion\":\"london\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[]},\"sources\":{\"project:/contracts/IPaymentsNative.sol\":{\"keccak256\":\"0x1934c03bee13d6730d35b41b00f8f15dff460c83fd1fef6c8ffe760a1fc0726a\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://04008a04b033d5e36c66fe91f5a80233112bd41e35f3756dbfa15f38748d4ba6\",\"dweb:/ipfs/QmbSnYhgw1E9CLGFhQbnzbGFSdCLaJuidWncL8ZBHGPRHR\"]},\"project:/contracts/ISignableStructs.sol\":{\"keccak256\":\"0x4b40e9174d84c4e7592f2bbd666abb0c07a08d58d37c9317db038c0846f5c682\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://21fc8abac194c4b94709b3fbda457335d3e1917b1d9c1af7ff7c0a270a6a9122\",\"dweb:/ipfs/QmV1Ph6b3wQmAbexA19MPN2Waioo8zjS553QrdiV8wTmCm\"]}},\"version\":1}",
  "bytecode": "0x",
  "deployedBytecode": "0x",
  "immutableReferences": {},
  "generatedSources": [],
  "deployedGeneratedSources": [],
  "sourceMap": "",
  "deployedSourceMap": "",
  "source": "// SPDX-License-Identifier: MIT\npragma solidity =0.8.12;\n\nimport \"./ISignableStructs.sol\";\n\n/**\n * @title Interface to Payments Contract in Native Cryptocurencies.\n * @author Freeverse.io, www.freeverse.io\n * @dev Upon transfer of cryptocurrency to this contract, it remains\n * locked until an Operator confirms the success or failure of the\n * asset transfer required to fulfil this payment.\n *\n * If no confirmation is received from the operator during the PaymentWindow,\n * all funds received from the buyer are made available to the buyer for refund.\n *\n * To start a payment, signatures of both the buyer and the Operator are required:\n * - the buyer is the msg.sender (the buyer therefore signs the TX), \n * - the operator's EIP712-signature of the PaymentInput struct is provided as input to the call.\n *\n * This contract maintains the balances of all users, it does not transfer them automatically.\n * Users need to explicitly call the 'withdraw' method, which withdraws balanceOf[msg.sender]\n * If a buyer has a non-zero local balance at the moment of starting a new payment,\n * the contract reuses it, and only requires the provision of the\n * remainder required (if any) as msg.value\n *\n * Each payment has the following State Machine:\n * - NOT_STARTED -> ASSET_TRANSFERRING, triggered by pay\n * - ASSET_TRANSFERRING -> PAID, triggered by relaying assetTransferSuccess signed by operator\n * - ASSET_TRANSFERRING -> REFUNDED, triggered by relaying assetTransferFailed signed by operator\n * - ASSET_TRANSFERRING -> REFUNDED, triggered by a refund request after expirationTime\n *\n * NOTE: To ensure that the payment process proceeds as expected when the payment starts,\n * upon acceptance of a payment, the following data: {operator, feesCollector, expirationTime}\n * is stored in the payment struct, and used throughout the payment, regardless of\n * any possible modifications to the contract's storage.\n *\n */\n\ninterface IPaymentsNative is ISignableStructs {\n    /**\n     * @dev Event emitted on change of EIP712 verifier contract address\n     * @param eip712address The address of the new EIP712 verifier contract\n     */\n\n    event EIP712(address eip712address);\n\n    /**\n     * @dev Event emitted on change of payment window\n     * @param window The new amount of time after the arrival of a payment for which, \n     *  in absence of confirmation of asset transfer success, a buyer is allowed to refund\n     */\n    event PaymentWindow(uint256 window);\n\n    /**\n     * @dev Event emitted when a user executes the registerAsSeller method\n     * @param seller The address of the newly registeredAsSeller user.\n     */\n    event NewSeller(address indexed seller);\n\n    /**\n     * @dev Event emitted when a buyer is refunded for a given payment process\n     * @param paymentId The id of the already initiated payment \n     * @param buyer The address of the refunded buyer\n     */\n    event BuyerRefunded(bytes32 indexed paymentId, address indexed buyer);\n\n    /**\n     * @dev Event emitted when funds for a given payment arrive to this contract\n     * @param paymentId The unique id identifying the payment \n     * @param buyer The address of the buyer providing the funds\n     * @param seller The address of the seller of the asset\n     */\n    event PayIn(\n        bytes32 indexed paymentId,\n        address indexed buyer,\n        address indexed seller\n    );\n\n    /**\n     * @dev Event emitted when a payment process arrives at the PAID \n     *  final state, where the seller receives the funds.\n     * @param paymentId The id of the already initiated payment \n     */\n    event Paid(bytes32 indexed paymentId);\n\n    /**\n     * @dev Event emitted when user withdraws funds from this contract\n     * @param user The address of the user that withdraws\n     * @param amount The amount withdrawn, in lowest units of the native cryptocurrency\n     */\n    event Withdraw(address indexed user, uint256 amount);\n\n    /**\n     * @dev The enum characterizing the possible states of a payment process\n     */\n    enum State {\n        NotStarted,\n        AssetTransferring,\n        Refunded,\n        Paid\n    }\n\n    /**\n     * @notice Main struct stored with every payment.\n     *  All variables of the struct remain immutable throughout a payment process\n     *  except for `state`.\n     */\n    struct Payment {\n        // the current state of the payment process\n        State state;\n\n        // the buyer, providing the required funds, who shall receive\n        // the asset on a successful payment.\n        address buyer;\n\n        // the seller of the asset, who shall receive the funds\n        // (subtracting fees) on a successful payment.        \n        address seller;\n\n        // The address of the operator of this payment\n        address operator;\n\n        // The address of the feesCollector of this payment\n        address feesCollector;\n\n        // The timestamp after which, in absence of confirmation of \n        // asset transfer success, a buyer is allowed to refund\n        uint256 expirationTime;\n\n        // the percentage fee expressed in Basis Points (bps), typical in finance\n        // Examples:  2.5% = 250 bps, 10% = 1000 bps, 100% = 10000 bps\n        uint256 feeBPS;\n\n        // the price of the asset, an integer expressed in the\n        // lowest unit of the ERC20 token.\n        uint256 amount;\n    }\n\n    /**\n     * @notice Registers msg.sender as seller so that, if the contract has set\n     *  _isSellerRegistrationRequired = true, then payments will be accepted with\n     *  msg.sender as seller.\n    */\n    function registerAsSeller() external;\n\n    /**\n     * @notice Starts Payment process by the buyer.\n     * @dev Executed by the buyer, who relays the MetaTX with the operator's signature.\n     *  The buyer must provide the correct amount via msg.value.\n     *  If all requirements are fulfilled, it stores the data relevant\n     *  for the next steps of the payment, and it locks the funds\n     *  in this contract.\n     *  Follows standard Checks-Effects-Interactions pattern\n     *  to protect against re-entrancy attacks.\n     *  Moves payment to ASSET_TRANSFERRING state.\n     * @param payInput The struct containing all required payment data\n     * @param operatorSignature The signature of 'payInput' by the operator\n     */\n    function pay(PaymentInput calldata payInput, bytes calldata operatorSignature)\n        external\n        payable;\n\n    /**\n     * @notice Relays the operator signature declaring that the asset transfer was successful or failed,\n     *  and updates balances of seller or buyer, respectively.\n     * @dev Can be executed by anyone, but the operator signature must be included as input param.\n     *  Seller or Buyer's balances are updated, allowing explicit withdrawal.\n     *  Moves payment to PAID or REFUNDED state on transfer success/failure, respectively.\n     * @param transferResult The asset transfer result struct signed by the operator.\n     * @param operatorSignature The operator signature of transferResult\n     */\n    function finalize(\n        AssetTransferResult calldata transferResult,\n        bytes calldata operatorSignature\n    ) external;\n\n    /**\n     * @notice Relays the operator signature declaring that the asset transfer was successful or failed,\n     *  updates balances of seller or buyer, respectively,\n     *  and proceeds to withdraw all funds in this contract available to msg.sender.\n     * @dev Can be executed by anyone, but the operator signature must be included as input param.\n     *  It is, however, expected to be executed by the seller, in case of a successful asset transfer,\n     *  or the buyer, in case of a failed asset transfer.\n     *  Moves payment to PAID or REFUNDED state on transfer success/failure, respectively.\n     * @param transferResult The asset transfer result struct signed by the operator.\n     * @param operatorSignature The operator signature of transferResult\n     */\n    function finalizeAndWithdraw(\n        AssetTransferResult calldata transferResult,\n        bytes calldata operatorSignature\n    ) external;\n\n    /**\n     * @notice Moves buyer's provided funds to buyer's balance.\n     * @dev Anybody can call this function.\n     *  Requires acceptsRefunds == true to proceed.\n     *  After updating buyer's balance, he/she can later withdraw.\n     *  Moves payment to REFUNDED state.\n     * @param paymentId The unique ID that identifies the payment.\n     */\n    function refund(bytes32 paymentId) external;\n\n    /**\n     * @notice Executes refund and withdraw in one transaction.\n     * @dev Anybody can call this function.\n     *  Requires acceptsRefunds == true to proceed.\n     *  All of msg.sender's balance in the contract is withdrawn,\n     *  not only the part that was locked in this particular paymentId\n     *  Moves payment to REFUNDED state.\n     * @param paymentId The unique ID that identifies the payment.\n     */\n    function refundAndWithdraw(bytes32 paymentId) external;\n\n    /**\n     * @notice Transfers funds avaliable in this\n     *  contract's balanceOf[msg.sender] to msg.sender\n     */\n    function withdraw() external;\n\n    /**\n     * @notice Transfers only the specified amount\n     *  from this contract's balanceOf[msg.sender] to msg.sender.\n     *  Reverts if balanceOf[msg.sender] < amount.\n     * @param amount The required amount to withdraw\n     */\n    function withdrawAmount(uint256 amount) external;\n\n    // VIEW FUNCTIONS\n\n    /**\n     * @notice Returns whether sellers need to be registered to be able to accept payments\n     * @return Returns true if sellers need to be registered to be able to accept payments\n     */\n    function isSellerRegistrationRequired() external view returns (bool);\n\n    /**\n     * @notice Returns true if the address provided is a registered seller\n     * @param addr the address that is queried\n     * @return Returns whether the address is registered as seller\n     */\n    function isRegisteredSeller(address addr) external view returns (bool);\n\n    /**\n     * @notice Returns the local balance of the provided address that is stored in this\n     *  contract, and hence, available for withdrawal.\n     * @param addr the address that is queried\n     * @return the local balance\n     */\n    function balanceOf(address addr) external view returns (uint256);\n\n    /**\n     * @notice Returns all data stored in a payment\n     * @param paymentId The unique ID that identifies the payment.\n     * @return the struct stored for the payment\n     */\n    function paymentInfo(bytes32 paymentId)\n        external\n        view\n        returns (Payment memory);\n\n    /**\n     * @notice Returns the state of a payment.\n     * @dev If payment is in ASSET_TRANSFERRING, it may be worth\n     *  checking acceptsRefunds ot check if it has gone beyond expirationTime.\n     * @param paymentId The unique ID that identifies the payment.\n     * @return the state of the payment.\n     */\n    function paymentState(bytes32 paymentId) external view returns (State);\n\n    /**\n     * @notice Returns true if the payment accepts a refund to the buyer\n     * @dev The payment must be in ASSET_TRANSFERRING and beyond expirationTime.\n     * @param paymentId The unique ID that identifies the payment.\n     * @return true if the payment accepts a refund to the buyer.\n     */\n    function acceptsRefunds(bytes32 paymentId) external view returns (bool);\n\n    /**\n     * @notice Returns the address of the of the contract containing\n     *  the implementation of the EIP712 verifying functions\n     * @return the address of the EIP712 verifier contract\n     */\n    function EIP712Address() external view returns (address);\n\n    /**\n     * @notice Returns the amount of seconds that a payment\n     *  can remain in ASSET_TRANSFERRING state without positive\n     *  or negative confirmation by the operator\n     * @return the payment window in secs\n     */\n    function paymentWindow() external view returns (uint256);\n\n    /**\n     * @notice Returns a descriptor about the currency that this contract accepts\n     * @return the string describing the currency\n     */\n    function acceptedCurrency() external view returns (string memory);\n\n    /**\n     * @notice Returns true if the 'amount' required for a payment is available to this contract.\n     * @dev In more detail: returns true if the sum of the buyer's local balance in this contract,\n     *  plus the external balance in the native crypto, are larger or equal than 'amount'\n     * @param buyer The address for which funds are queried\n     * @param amount The amount that is queried\n     * @return Returns true if enough funds are available\n     */\n    function enoughFundsAvailable(address buyer, uint256 amount)\n        external\n        view\n        returns (bool);\n\n    /**\n     * @notice Returns the maximum amount of funds available to a buyer\n     * @dev In more detail: returns the sum of the buyer's local balance in this contract,\n     *  plus the external balance in the native crypto.\n     * @param buyer The address for which funds are queried\n     * @return the max funds available\n     */\n    function maxFundsAvailable(address buyer) external view returns (uint256);\n\n    /**\n     * @notice Splits the funds required to pay 'amount' into two sources:\n     *  - externalFunds: the amount of crypto required to be transferred from the external buyer balance\n     *  - localFunds: the amount of crypto required from the buyer's already available balance in this contract.\n     * @param buyer The address for which the amount is to be split\n     * @param amount The amount to be split\n     * @return externalFunds The amount of funds required to be transferred from the external buyer balance\n     * @return localFunds The amount of local funds that will be used.\n     */\n    function splitFundingSources(address buyer, uint256 amount)\n        external\n        view\n        returns (uint256 externalFunds, uint256 localFunds);\n\n    /**\n     * @notice Reverts unless the requirements for a PaymentInput are fulfilled.\n     * @param payInput The PaymentInput struct\n     */\n    function checkPaymentInputs(PaymentInput calldata payInput) external view;\n\n    // PURE FUNCTIONS\n\n    /**\n     * @notice Safe computation of fee amount for a provided amount, feeBPS pair\n     * @dev Must return a value that is guaranteed to be less or equal to the provided amount\n     * @param amount The amount\n     * @param feeBPS The percentage fee expressed in Basis Points (bps).\n     *  feeBPS examples:  2.5% = 250 bps, 10% = 1000 bps, 100% = 10000 bps\n     * @return The fee amount\n     */\n    function computeFeeAmount(uint256 amount, uint256 feeBPS)\n        external\n        pure\n        returns (uint256);\n}\n",
  "sourcePath": "/Users/toni/gits/cryptoPaymentsNative/contracts/IPaymentsNative.sol",
  "ast": {
    "absolutePath": "project:/contracts/IPaymentsNative.sol",
    "exportedSymbols": {
      "IPaymentsNative": [
        933
      ],
      "ISignableStructs": [
        957
      ]
    },
    "id": 934,
    "license": "MIT",
    "nodeType": "SourceUnit",
    "nodes": [
      {
        "id": 696,
        "literals": [
          "solidity",
          "=",
          "0.8",
          ".12"
        ],
        "nodeType": "PragmaDirective",
        "src": "32:24:7"
      },
      {
        "absolutePath": "project:/contracts/ISignableStructs.sol",
        "file": "./ISignableStructs.sol",
        "id": 697,
        "nameLocation": "-1:-1:-1",
        "nodeType": "ImportDirective",
        "scope": 934,
        "sourceUnit": 958,
        "src": "58:32:7",
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "abstract": false,
        "baseContracts": [
          {
            "baseName": {
              "id": 699,
              "name": "ISignableStructs",
              "nodeType": "IdentifierPath",
              "referencedDeclaration": 957,
              "src": "1950:16:7"
            },
            "id": 700,
            "nodeType": "InheritanceSpecifier",
            "src": "1950:16:7"
          }
        ],
        "canonicalName": "IPaymentsNative",
        "contractDependencies": [],
        "contractKind": "interface",
        "documentation": {
          "id": 698,
          "nodeType": "StructuredDocumentation",
          "src": "92:1827:7",
          "text": " @title Interface to Payments Contract in Native Cryptocurencies.\n @author Freeverse.io, www.freeverse.io\n @dev Upon transfer of cryptocurrency to this contract, it remains\n locked until an Operator confirms the success or failure of the\n asset transfer required to fulfil this payment.\n If no confirmation is received from the operator during the PaymentWindow,\n all funds received from the buyer are made available to the buyer for refund.\n To start a payment, signatures of both the buyer and the Operator are required:\n - the buyer is the msg.sender (the buyer therefore signs the TX), \n - the operator's EIP712-signature of the PaymentInput struct is provided as input to the call.\n This contract maintains the balances of all users, it does not transfer them automatically.\n Users need to explicitly call the 'withdraw' method, which withdraws balanceOf[msg.sender]\n If a buyer has a non-zero local balance at the moment of starting a new payment,\n the contract reuses it, and only requires the provision of the\n remainder required (if any) as msg.value\n Each payment has the following State Machine:\n - NOT_STARTED -> ASSET_TRANSFERRING, triggered by pay\n - ASSET_TRANSFERRING -> PAID, triggered by relaying assetTransferSuccess signed by operator\n - ASSET_TRANSFERRING -> REFUNDED, triggered by relaying assetTransferFailed signed by operator\n - ASSET_TRANSFERRING -> REFUNDED, triggered by a refund request after expirationTime\n NOTE: To ensure that the payment process proceeds as expected when the payment starts,\n upon acceptance of a payment, the following data: {operator, feesCollector, expirationTime}\n is stored in the payment struct, and used throughout the payment, regardless of\n any possible modifications to the contract's storage."
        },
        "fullyImplemented": false,
        "id": 933,
        "linearizedBaseContracts": [
          933,
          957
        ],
        "name": "IPaymentsNative",
        "nameLocation": "1931:15:7",
        "nodeType": "ContractDefinition",
        "nodes": [
          {
            "anonymous": false,
            "documentation": {
              "id": 701,
              "nodeType": "StructuredDocumentation",
              "src": "1973:159:7",
              "text": " @dev Event emitted on change of EIP712 verifier contract address\n @param eip712address The address of the new EIP712 verifier contract"
            },
            "id": 705,
            "name": "EIP712",
            "nameLocation": "2144:6:7",
            "nodeType": "EventDefinition",
            "parameters": {
              "id": 704,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 703,
                  "indexed": false,
                  "mutability": "mutable",
                  "name": "eip712address",
                  "nameLocation": "2159:13:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 705,
                  "src": "2151:21:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 702,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "2151:7:7",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "2150:23:7"
            },
            "src": "2138:36:7"
          },
          {
            "anonymous": false,
            "documentation": {
              "id": 706,
              "nodeType": "StructuredDocumentation",
              "src": "2180:243:7",
              "text": " @dev Event emitted on change of payment window\n @param window The new amount of time after the arrival of a payment for which, \n  in absence of confirmation of asset transfer success, a buyer is allowed to refund"
            },
            "id": 710,
            "name": "PaymentWindow",
            "nameLocation": "2434:13:7",
            "nodeType": "EventDefinition",
            "parameters": {
              "id": 709,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 708,
                  "indexed": false,
                  "mutability": "mutable",
                  "name": "window",
                  "nameLocation": "2456:6:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 710,
                  "src": "2448:14:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 707,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2448:7:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "2447:16:7"
            },
            "src": "2428:36:7"
          },
          {
            "anonymous": false,
            "documentation": {
              "id": 711,
              "nodeType": "StructuredDocumentation",
              "src": "2470:157:7",
              "text": " @dev Event emitted when a user executes the registerAsSeller method\n @param seller The address of the newly registeredAsSeller user."
            },
            "id": 715,
            "name": "NewSeller",
            "nameLocation": "2638:9:7",
            "nodeType": "EventDefinition",
            "parameters": {
              "id": 714,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 713,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "seller",
                  "nameLocation": "2664:6:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 715,
                  "src": "2648:22:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 712,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "2648:7:7",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "2647:24:7"
            },
            "src": "2632:40:7"
          },
          {
            "anonymous": false,
            "documentation": {
              "id": 716,
              "nodeType": "StructuredDocumentation",
              "src": "2678:209:7",
              "text": " @dev Event emitted when a buyer is refunded for a given payment process\n @param paymentId The id of the already initiated payment \n @param buyer The address of the refunded buyer"
            },
            "id": 722,
            "name": "BuyerRefunded",
            "nameLocation": "2898:13:7",
            "nodeType": "EventDefinition",
            "parameters": {
              "id": 721,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 718,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "paymentId",
                  "nameLocation": "2928:9:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 722,
                  "src": "2912:25:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes32",
                    "typeString": "bytes32"
                  },
                  "typeName": {
                    "id": 717,
                    "name": "bytes32",
                    "nodeType": "ElementaryTypeName",
                    "src": "2912:7:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes32",
                      "typeString": "bytes32"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 720,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "buyer",
                  "nameLocation": "2955:5:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 722,
                  "src": "2939:21:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 719,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "2939:7:7",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "2911:50:7"
            },
            "src": "2892:70:7"
          },
          {
            "anonymous": false,
            "documentation": {
              "id": 723,
              "nodeType": "StructuredDocumentation",
              "src": "2968:280:7",
              "text": " @dev Event emitted when funds for a given payment arrive to this contract\n @param paymentId The unique id identifying the payment \n @param buyer The address of the buyer providing the funds\n @param seller The address of the seller of the asset"
            },
            "id": 731,
            "name": "PayIn",
            "nameLocation": "3259:5:7",
            "nodeType": "EventDefinition",
            "parameters": {
              "id": 730,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 725,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "paymentId",
                  "nameLocation": "3290:9:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 731,
                  "src": "3274:25:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes32",
                    "typeString": "bytes32"
                  },
                  "typeName": {
                    "id": 724,
                    "name": "bytes32",
                    "nodeType": "ElementaryTypeName",
                    "src": "3274:7:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes32",
                      "typeString": "bytes32"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 727,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "buyer",
                  "nameLocation": "3325:5:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 731,
                  "src": "3309:21:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 726,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "3309:7:7",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 729,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "seller",
                  "nameLocation": "3356:6:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 731,
                  "src": "3340:22:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 728,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "3340:7:7",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "3264:104:7"
            },
            "src": "3253:116:7"
          },
          {
            "anonymous": false,
            "documentation": {
              "id": 732,
              "nodeType": "StructuredDocumentation",
              "src": "3375:204:7",
              "text": " @dev Event emitted when a payment process arrives at the PAID \n  final state, where the seller receives the funds.\n @param paymentId The id of the already initiated payment "
            },
            "id": 736,
            "name": "Paid",
            "nameLocation": "3590:4:7",
            "nodeType": "EventDefinition",
            "parameters": {
              "id": 735,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 734,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "paymentId",
                  "nameLocation": "3611:9:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 736,
                  "src": "3595:25:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes32",
                    "typeString": "bytes32"
                  },
                  "typeName": {
                    "id": 733,
                    "name": "bytes32",
                    "nodeType": "ElementaryTypeName",
                    "src": "3595:7:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes32",
                      "typeString": "bytes32"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "3594:27:7"
            },
            "src": "3584:38:7"
          },
          {
            "anonymous": false,
            "documentation": {
              "id": 737,
              "nodeType": "StructuredDocumentation",
              "src": "3628:228:7",
              "text": " @dev Event emitted when user withdraws funds from this contract\n @param user The address of the user that withdraws\n @param amount The amount withdrawn, in lowest units of the native cryptocurrency"
            },
            "id": 743,
            "name": "Withdraw",
            "nameLocation": "3867:8:7",
            "nodeType": "EventDefinition",
            "parameters": {
              "id": 742,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 739,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "user",
                  "nameLocation": "3892:4:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 743,
                  "src": "3876:20:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 738,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "3876:7:7",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 741,
                  "indexed": false,
                  "mutability": "mutable",
                  "name": "amount",
                  "nameLocation": "3906:6:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 743,
                  "src": "3898:14:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 740,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "3898:7:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "3875:38:7"
            },
            "src": "3861:53:7"
          },
          {
            "canonicalName": "IPaymentsNative.State",
            "id": 748,
            "members": [
              {
                "id": 744,
                "name": "NotStarted",
                "nameLocation": "4034:10:7",
                "nodeType": "EnumValue",
                "src": "4034:10:7"
              },
              {
                "id": 745,
                "name": "AssetTransferring",
                "nameLocation": "4054:17:7",
                "nodeType": "EnumValue",
                "src": "4054:17:7"
              },
              {
                "id": 746,
                "name": "Refunded",
                "nameLocation": "4081:8:7",
                "nodeType": "EnumValue",
                "src": "4081:8:7"
              },
              {
                "id": 747,
                "name": "Paid",
                "nameLocation": "4099:4:7",
                "nodeType": "EnumValue",
                "src": "4099:4:7"
              }
            ],
            "name": "State",
            "nameLocation": "4018:5:7",
            "nodeType": "EnumDefinition",
            "src": "4013:96:7"
          },
          {
            "canonicalName": "IPaymentsNative.Payment",
            "id": 766,
            "members": [
              {
                "constant": false,
                "id": 751,
                "mutability": "mutable",
                "name": "state",
                "nameLocation": "4378:5:7",
                "nodeType": "VariableDeclaration",
                "scope": 766,
                "src": "4372:11:7",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_enum$_State_$748",
                  "typeString": "enum IPaymentsNative.State"
                },
                "typeName": {
                  "id": 750,
                  "nodeType": "UserDefinedTypeName",
                  "pathNode": {
                    "id": 749,
                    "name": "State",
                    "nodeType": "IdentifierPath",
                    "referencedDeclaration": 748,
                    "src": "4372:5:7"
                  },
                  "referencedDeclaration": 748,
                  "src": "4372:5:7",
                  "typeDescriptions": {
                    "typeIdentifier": "t_enum$_State_$748",
                    "typeString": "enum IPaymentsNative.State"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 753,
                "mutability": "mutable",
                "name": "buyer",
                "nameLocation": "4518:5:7",
                "nodeType": "VariableDeclaration",
                "scope": 766,
                "src": "4510:13:7",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_address",
                  "typeString": "address"
                },
                "typeName": {
                  "id": 752,
                  "name": "address",
                  "nodeType": "ElementaryTypeName",
                  "src": "4510:7:7",
                  "stateMutability": "nonpayable",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 755,
                "mutability": "mutable",
                "name": "seller",
                "nameLocation": "4669:6:7",
                "nodeType": "VariableDeclaration",
                "scope": 766,
                "src": "4661:14:7",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_address",
                  "typeString": "address"
                },
                "typeName": {
                  "id": 754,
                  "name": "address",
                  "nodeType": "ElementaryTypeName",
                  "src": "4661:7:7",
                  "stateMutability": "nonpayable",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 757,
                "mutability": "mutable",
                "name": "operator",
                "nameLocation": "4749:8:7",
                "nodeType": "VariableDeclaration",
                "scope": 766,
                "src": "4741:16:7",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_address",
                  "typeString": "address"
                },
                "typeName": {
                  "id": 756,
                  "name": "address",
                  "nodeType": "ElementaryTypeName",
                  "src": "4741:7:7",
                  "stateMutability": "nonpayable",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 759,
                "mutability": "mutable",
                "name": "feesCollector",
                "nameLocation": "4836:13:7",
                "nodeType": "VariableDeclaration",
                "scope": 766,
                "src": "4828:21:7",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_address",
                  "typeString": "address"
                },
                "typeName": {
                  "id": 758,
                  "name": "address",
                  "nodeType": "ElementaryTypeName",
                  "src": "4828:7:7",
                  "stateMutability": "nonpayable",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 761,
                "mutability": "mutable",
                "name": "expirationTime",
                "nameLocation": "5001:14:7",
                "nodeType": "VariableDeclaration",
                "scope": 766,
                "src": "4993:22:7",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_uint256",
                  "typeString": "uint256"
                },
                "typeName": {
                  "id": 760,
                  "name": "uint256",
                  "nodeType": "ElementaryTypeName",
                  "src": "4993:7:7",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 763,
                "mutability": "mutable",
                "name": "feeBPS",
                "nameLocation": "5187:6:7",
                "nodeType": "VariableDeclaration",
                "scope": 766,
                "src": "5179:14:7",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_uint256",
                  "typeString": "uint256"
                },
                "typeName": {
                  "id": 762,
                  "name": "uint256",
                  "nodeType": "ElementaryTypeName",
                  "src": "5179:7:7",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 765,
                "mutability": "mutable",
                "name": "amount",
                "nameLocation": "5318:6:7",
                "nodeType": "VariableDeclaration",
                "scope": 766,
                "src": "5310:14:7",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_uint256",
                  "typeString": "uint256"
                },
                "typeName": {
                  "id": 764,
                  "name": "uint256",
                  "nodeType": "ElementaryTypeName",
                  "src": "5310:7:7",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  }
                },
                "visibility": "internal"
              }
            ],
            "name": "Payment",
            "nameLocation": "4302:7:7",
            "nodeType": "StructDefinition",
            "scope": 933,
            "src": "4295:1036:7",
            "visibility": "public"
          },
          {
            "documentation": {
              "id": 767,
              "nodeType": "StructuredDocumentation",
              "src": "5337:201:7",
              "text": " @notice Registers msg.sender as seller so that, if the contract has set\n  _isSellerRegistrationRequired = true, then payments will be accepted with\n  msg.sender as seller."
            },
            "functionSelector": "128b8532",
            "id": 770,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "registerAsSeller",
            "nameLocation": "5552:16:7",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 768,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "5568:2:7"
            },
            "returnParameters": {
              "id": 769,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "5579:0:7"
            },
            "scope": 933,
            "src": "5543:37:7",
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 771,
              "nodeType": "StructuredDocumentation",
              "src": "5586:686:7",
              "text": " @notice Starts Payment process by the buyer.\n @dev Executed by the buyer, who relays the MetaTX with the operator's signature.\n  The buyer must provide the correct amount via msg.value.\n  If all requirements are fulfilled, it stores the data relevant\n  for the next steps of the payment, and it locks the funds\n  in this contract.\n  Follows standard Checks-Effects-Interactions pattern\n  to protect against re-entrancy attacks.\n  Moves payment to ASSET_TRANSFERRING state.\n @param payInput The struct containing all required payment data\n @param operatorSignature The signature of 'payInput' by the operator"
            },
            "functionSelector": "23f7a900",
            "id": 779,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "pay",
            "nameLocation": "6286:3:7",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 777,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 774,
                  "mutability": "mutable",
                  "name": "payInput",
                  "nameLocation": "6312:8:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 779,
                  "src": "6290:30:7",
                  "stateVariable": false,
                  "storageLocation": "calldata",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_PaymentInput_$951_calldata_ptr",
                    "typeString": "struct ISignableStructs.PaymentInput"
                  },
                  "typeName": {
                    "id": 773,
                    "nodeType": "UserDefinedTypeName",
                    "pathNode": {
                      "id": 772,
                      "name": "PaymentInput",
                      "nodeType": "IdentifierPath",
                      "referencedDeclaration": 951,
                      "src": "6290:12:7"
                    },
                    "referencedDeclaration": 951,
                    "src": "6290:12:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_PaymentInput_$951_storage_ptr",
                      "typeString": "struct ISignableStructs.PaymentInput"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 776,
                  "mutability": "mutable",
                  "name": "operatorSignature",
                  "nameLocation": "6337:17:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 779,
                  "src": "6322:32:7",
                  "stateVariable": false,
                  "storageLocation": "calldata",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes_calldata_ptr",
                    "typeString": "bytes"
                  },
                  "typeName": {
                    "id": 775,
                    "name": "bytes",
                    "nodeType": "ElementaryTypeName",
                    "src": "6322:5:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes_storage_ptr",
                      "typeString": "bytes"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "6289:66:7"
            },
            "returnParameters": {
              "id": 778,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "6388:0:7"
            },
            "scope": 933,
            "src": "6277:112:7",
            "stateMutability": "payable",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 780,
              "nodeType": "StructuredDocumentation",
              "src": "6395:606:7",
              "text": " @notice Relays the operator signature declaring that the asset transfer was successful or failed,\n  and updates balances of seller or buyer, respectively.\n @dev Can be executed by anyone, but the operator signature must be included as input param.\n  Seller or Buyer's balances are updated, allowing explicit withdrawal.\n  Moves payment to PAID or REFUNDED state on transfer success/failure, respectively.\n @param transferResult The asset transfer result struct signed by the operator.\n @param operatorSignature The operator signature of transferResult"
            },
            "functionSelector": "96aa71b0",
            "id": 788,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "finalize",
            "nameLocation": "7015:8:7",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 786,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 783,
                  "mutability": "mutable",
                  "name": "transferResult",
                  "nameLocation": "7062:14:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 788,
                  "src": "7033:43:7",
                  "stateVariable": false,
                  "storageLocation": "calldata",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_AssetTransferResult_$956_calldata_ptr",
                    "typeString": "struct ISignableStructs.AssetTransferResult"
                  },
                  "typeName": {
                    "id": 782,
                    "nodeType": "UserDefinedTypeName",
                    "pathNode": {
                      "id": 781,
                      "name": "AssetTransferResult",
                      "nodeType": "IdentifierPath",
                      "referencedDeclaration": 956,
                      "src": "7033:19:7"
                    },
                    "referencedDeclaration": 956,
                    "src": "7033:19:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_AssetTransferResult_$956_storage_ptr",
                      "typeString": "struct ISignableStructs.AssetTransferResult"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 785,
                  "mutability": "mutable",
                  "name": "operatorSignature",
                  "nameLocation": "7101:17:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 788,
                  "src": "7086:32:7",
                  "stateVariable": false,
                  "storageLocation": "calldata",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes_calldata_ptr",
                    "typeString": "bytes"
                  },
                  "typeName": {
                    "id": 784,
                    "name": "bytes",
                    "nodeType": "ElementaryTypeName",
                    "src": "7086:5:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes_storage_ptr",
                      "typeString": "bytes"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "7023:101:7"
            },
            "returnParameters": {
              "id": 787,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "7133:0:7"
            },
            "scope": 933,
            "src": "7006:128:7",
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 789,
              "nodeType": "StructuredDocumentation",
              "src": "7140:770:7",
              "text": " @notice Relays the operator signature declaring that the asset transfer was successful or failed,\n  updates balances of seller or buyer, respectively,\n  and proceeds to withdraw all funds in this contract available to msg.sender.\n @dev Can be executed by anyone, but the operator signature must be included as input param.\n  It is, however, expected to be executed by the seller, in case of a successful asset transfer,\n  or the buyer, in case of a failed asset transfer.\n  Moves payment to PAID or REFUNDED state on transfer success/failure, respectively.\n @param transferResult The asset transfer result struct signed by the operator.\n @param operatorSignature The operator signature of transferResult"
            },
            "functionSelector": "a1bc474d",
            "id": 797,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "finalizeAndWithdraw",
            "nameLocation": "7924:19:7",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 795,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 792,
                  "mutability": "mutable",
                  "name": "transferResult",
                  "nameLocation": "7982:14:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 797,
                  "src": "7953:43:7",
                  "stateVariable": false,
                  "storageLocation": "calldata",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_AssetTransferResult_$956_calldata_ptr",
                    "typeString": "struct ISignableStructs.AssetTransferResult"
                  },
                  "typeName": {
                    "id": 791,
                    "nodeType": "UserDefinedTypeName",
                    "pathNode": {
                      "id": 790,
                      "name": "AssetTransferResult",
                      "nodeType": "IdentifierPath",
                      "referencedDeclaration": 956,
                      "src": "7953:19:7"
                    },
                    "referencedDeclaration": 956,
                    "src": "7953:19:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_AssetTransferResult_$956_storage_ptr",
                      "typeString": "struct ISignableStructs.AssetTransferResult"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 794,
                  "mutability": "mutable",
                  "name": "operatorSignature",
                  "nameLocation": "8021:17:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 797,
                  "src": "8006:32:7",
                  "stateVariable": false,
                  "storageLocation": "calldata",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes_calldata_ptr",
                    "typeString": "bytes"
                  },
                  "typeName": {
                    "id": 793,
                    "name": "bytes",
                    "nodeType": "ElementaryTypeName",
                    "src": "8006:5:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes_storage_ptr",
                      "typeString": "bytes"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "7943:101:7"
            },
            "returnParameters": {
              "id": 796,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "8053:0:7"
            },
            "scope": 933,
            "src": "7915:139:7",
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 798,
              "nodeType": "StructuredDocumentation",
              "src": "8060:346:7",
              "text": " @notice Moves buyer's provided funds to buyer's balance.\n @dev Anybody can call this function.\n  Requires acceptsRefunds == true to proceed.\n  After updating buyer's balance, he/she can later withdraw.\n  Moves payment to REFUNDED state.\n @param paymentId The unique ID that identifies the payment."
            },
            "functionSelector": "7249fbb6",
            "id": 803,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "refund",
            "nameLocation": "8420:6:7",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 801,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 800,
                  "mutability": "mutable",
                  "name": "paymentId",
                  "nameLocation": "8435:9:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 803,
                  "src": "8427:17:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes32",
                    "typeString": "bytes32"
                  },
                  "typeName": {
                    "id": 799,
                    "name": "bytes32",
                    "nodeType": "ElementaryTypeName",
                    "src": "8427:7:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes32",
                      "typeString": "bytes32"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "8426:19:7"
            },
            "returnParameters": {
              "id": 802,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "8454:0:7"
            },
            "scope": 933,
            "src": "8411:44:7",
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 804,
              "nodeType": "StructuredDocumentation",
              "src": "8461:416:7",
              "text": " @notice Executes refund and withdraw in one transaction.\n @dev Anybody can call this function.\n  Requires acceptsRefunds == true to proceed.\n  All of msg.sender's balance in the contract is withdrawn,\n  not only the part that was locked in this particular paymentId\n  Moves payment to REFUNDED state.\n @param paymentId The unique ID that identifies the payment."
            },
            "functionSelector": "2593308b",
            "id": 809,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "refundAndWithdraw",
            "nameLocation": "8891:17:7",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 807,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 806,
                  "mutability": "mutable",
                  "name": "paymentId",
                  "nameLocation": "8917:9:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 809,
                  "src": "8909:17:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes32",
                    "typeString": "bytes32"
                  },
                  "typeName": {
                    "id": 805,
                    "name": "bytes32",
                    "nodeType": "ElementaryTypeName",
                    "src": "8909:7:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes32",
                      "typeString": "bytes32"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "8908:19:7"
            },
            "returnParameters": {
              "id": 808,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "8936:0:7"
            },
            "scope": 933,
            "src": "8882:55:7",
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 810,
              "nodeType": "StructuredDocumentation",
              "src": "8943:115:7",
              "text": " @notice Transfers funds avaliable in this\n  contract's balanceOf[msg.sender] to msg.sender"
            },
            "functionSelector": "3ccfd60b",
            "id": 813,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "withdraw",
            "nameLocation": "9072:8:7",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 811,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "9080:2:7"
            },
            "returnParameters": {
              "id": 812,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "9091:0:7"
            },
            "scope": 933,
            "src": "9063:29:7",
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 814,
              "nodeType": "StructuredDocumentation",
              "src": "9098:232:7",
              "text": " @notice Transfers only the specified amount\n  from this contract's balanceOf[msg.sender] to msg.sender.\n  Reverts if balanceOf[msg.sender] < amount.\n @param amount The required amount to withdraw"
            },
            "functionSelector": "0562b9f7",
            "id": 819,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "withdrawAmount",
            "nameLocation": "9344:14:7",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 817,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 816,
                  "mutability": "mutable",
                  "name": "amount",
                  "nameLocation": "9367:6:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 819,
                  "src": "9359:14:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 815,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "9359:7:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "9358:16:7"
            },
            "returnParameters": {
              "id": 818,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "9383:0:7"
            },
            "scope": 933,
            "src": "9335:49:7",
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 820,
              "nodeType": "StructuredDocumentation",
              "src": "9413:193:7",
              "text": " @notice Returns whether sellers need to be registered to be able to accept payments\n @return Returns true if sellers need to be registered to be able to accept payments"
            },
            "functionSelector": "221a832e",
            "id": 825,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "isSellerRegistrationRequired",
            "nameLocation": "9620:28:7",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 821,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "9648:2:7"
            },
            "returnParameters": {
              "id": 824,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 823,
                  "mutability": "mutable",
                  "name": "",
                  "nameLocation": "-1:-1:-1",
                  "nodeType": "VariableDeclaration",
                  "scope": 825,
                  "src": "9674:4:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bool",
                    "typeString": "bool"
                  },
                  "typeName": {
                    "id": 822,
                    "name": "bool",
                    "nodeType": "ElementaryTypeName",
                    "src": "9674:4:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "9673:6:7"
            },
            "scope": 933,
            "src": "9611:69:7",
            "stateMutability": "view",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 826,
              "nodeType": "StructuredDocumentation",
              "src": "9686:200:7",
              "text": " @notice Returns true if the address provided is a registered seller\n @param addr the address that is queried\n @return Returns whether the address is registered as seller"
            },
            "functionSelector": "78e96fb5",
            "id": 833,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "isRegisteredSeller",
            "nameLocation": "9900:18:7",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 829,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 828,
                  "mutability": "mutable",
                  "name": "addr",
                  "nameLocation": "9927:4:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 833,
                  "src": "9919:12:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 827,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "9919:7:7",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "9918:14:7"
            },
            "returnParameters": {
              "id": 832,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 831,
                  "mutability": "mutable",
                  "name": "",
                  "nameLocation": "-1:-1:-1",
                  "nodeType": "VariableDeclaration",
                  "scope": 833,
                  "src": "9956:4:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bool",
                    "typeString": "bool"
                  },
                  "typeName": {
                    "id": 830,
                    "name": "bool",
                    "nodeType": "ElementaryTypeName",
                    "src": "9956:4:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "9955:6:7"
            },
            "scope": 933,
            "src": "9891:71:7",
            "stateMutability": "view",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 834,
              "nodeType": "StructuredDocumentation",
              "src": "9968:234:7",
              "text": " @notice Returns the local balance of the provided address that is stored in this\n  contract, and hence, available for withdrawal.\n @param addr the address that is queried\n @return the local balance"
            },
            "functionSelector": "70a08231",
            "id": 841,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "balanceOf",
            "nameLocation": "10216:9:7",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 837,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 836,
                  "mutability": "mutable",
                  "name": "addr",
                  "nameLocation": "10234:4:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 841,
                  "src": "10226:12:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 835,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "10226:7:7",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "10225:14:7"
            },
            "returnParameters": {
              "id": 840,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 839,
                  "mutability": "mutable",
                  "name": "",
                  "nameLocation": "-1:-1:-1",
                  "nodeType": "VariableDeclaration",
                  "scope": 841,
                  "src": "10263:7:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 838,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "10263:7:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "10262:9:7"
            },
            "scope": 933,
            "src": "10207:65:7",
            "stateMutability": "view",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 842,
              "nodeType": "StructuredDocumentation",
              "src": "10278:179:7",
              "text": " @notice Returns all data stored in a payment\n @param paymentId The unique ID that identifies the payment.\n @return the struct stored for the payment"
            },
            "functionSelector": "dd115ab2",
            "id": 850,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "paymentInfo",
            "nameLocation": "10471:11:7",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 845,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 844,
                  "mutability": "mutable",
                  "name": "paymentId",
                  "nameLocation": "10491:9:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 850,
                  "src": "10483:17:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes32",
                    "typeString": "bytes32"
                  },
                  "typeName": {
                    "id": 843,
                    "name": "bytes32",
                    "nodeType": "ElementaryTypeName",
                    "src": "10483:7:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes32",
                      "typeString": "bytes32"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "10482:19:7"
            },
            "returnParameters": {
              "id": 849,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 848,
                  "mutability": "mutable",
                  "name": "",
                  "nameLocation": "-1:-1:-1",
                  "nodeType": "VariableDeclaration",
                  "scope": 850,
                  "src": "10549:14:7",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_Payment_$766_memory_ptr",
                    "typeString": "struct IPaymentsNative.Payment"
                  },
                  "typeName": {
                    "id": 847,
                    "nodeType": "UserDefinedTypeName",
                    "pathNode": {
                      "id": 846,
                      "name": "Payment",
                      "nodeType": "IdentifierPath",
                      "referencedDeclaration": 766,
                      "src": "10549:7:7"
                    },
                    "referencedDeclaration": 766,
                    "src": "10549:7:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Payment_$766_storage_ptr",
                      "typeString": "struct IPaymentsNative.Payment"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "10548:16:7"
            },
            "scope": 933,
            "src": "10462:103:7",
            "stateMutability": "view",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 851,
              "nodeType": "StructuredDocumentation",
              "src": "10571:310:7",
              "text": " @notice Returns the state of a payment.\n @dev If payment is in ASSET_TRANSFERRING, it may be worth\n  checking acceptsRefunds ot check if it has gone beyond expirationTime.\n @param paymentId The unique ID that identifies the payment.\n @return the state of the payment."
            },
            "functionSelector": "34b778ed",
            "id": 859,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "paymentState",
            "nameLocation": "10895:12:7",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 854,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 853,
                  "mutability": "mutable",
                  "name": "paymentId",
                  "nameLocation": "10916:9:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 859,
                  "src": "10908:17:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes32",
                    "typeString": "bytes32"
                  },
                  "typeName": {
                    "id": 852,
                    "name": "bytes32",
                    "nodeType": "ElementaryTypeName",
                    "src": "10908:7:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes32",
                      "typeString": "bytes32"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "10907:19:7"
            },
            "returnParameters": {
              "id": 858,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 857,
                  "mutability": "mutable",
                  "name": "",
                  "nameLocation": "-1:-1:-1",
                  "nodeType": "VariableDeclaration",
                  "scope": 859,
                  "src": "10950:5:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_enum$_State_$748",
                    "typeString": "enum IPaymentsNative.State"
                  },
                  "typeName": {
                    "id": 856,
                    "nodeType": "UserDefinedTypeName",
                    "pathNode": {
                      "id": 855,
                      "name": "State",
                      "nodeType": "IdentifierPath",
                      "referencedDeclaration": 748,
                      "src": "10950:5:7"
                    },
                    "referencedDeclaration": 748,
                    "src": "10950:5:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_enum$_State_$748",
                      "typeString": "enum IPaymentsNative.State"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "10949:7:7"
            },
            "scope": 933,
            "src": "10886:71:7",
            "stateMutability": "view",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 860,
              "nodeType": "StructuredDocumentation",
              "src": "10963:298:7",
              "text": " @notice Returns true if the payment accepts a refund to the buyer\n @dev The payment must be in ASSET_TRANSFERRING and beyond expirationTime.\n @param paymentId The unique ID that identifies the payment.\n @return true if the payment accepts a refund to the buyer."
            },
            "functionSelector": "244aa5d7",
            "id": 867,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "acceptsRefunds",
            "nameLocation": "11275:14:7",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 863,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 862,
                  "mutability": "mutable",
                  "name": "paymentId",
                  "nameLocation": "11298:9:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 867,
                  "src": "11290:17:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes32",
                    "typeString": "bytes32"
                  },
                  "typeName": {
                    "id": 861,
                    "name": "bytes32",
                    "nodeType": "ElementaryTypeName",
                    "src": "11290:7:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes32",
                      "typeString": "bytes32"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "11289:19:7"
            },
            "returnParameters": {
              "id": 866,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 865,
                  "mutability": "mutable",
                  "name": "",
                  "nameLocation": "-1:-1:-1",
                  "nodeType": "VariableDeclaration",
                  "scope": 867,
                  "src": "11332:4:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bool",
                    "typeString": "bool"
                  },
                  "typeName": {
                    "id": 864,
                    "name": "bool",
                    "nodeType": "ElementaryTypeName",
                    "src": "11332:4:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "11331:6:7"
            },
            "scope": 933,
            "src": "11266:72:7",
            "stateMutability": "view",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 868,
              "nodeType": "StructuredDocumentation",
              "src": "11344:200:7",
              "text": " @notice Returns the address of the of the contract containing\n  the implementation of the EIP712 verifying functions\n @return the address of the EIP712 verifier contract"
            },
            "functionSelector": "4bfc75fc",
            "id": 873,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "EIP712Address",
            "nameLocation": "11558:13:7",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 869,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "11571:2:7"
            },
            "returnParameters": {
              "id": 872,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 871,
                  "mutability": "mutable",
                  "name": "",
                  "nameLocation": "-1:-1:-1",
                  "nodeType": "VariableDeclaration",
                  "scope": 873,
                  "src": "11597:7:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 870,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "11597:7:7",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "11596:9:7"
            },
            "scope": 933,
            "src": "11549:57:7",
            "stateMutability": "view",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 874,
              "nodeType": "StructuredDocumentation",
              "src": "11612:226:7",
              "text": " @notice Returns the amount of seconds that a payment\n  can remain in ASSET_TRANSFERRING state without positive\n  or negative confirmation by the operator\n @return the payment window in secs"
            },
            "functionSelector": "cab55d56",
            "id": 879,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "paymentWindow",
            "nameLocation": "11852:13:7",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 875,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "11865:2:7"
            },
            "returnParameters": {
              "id": 878,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 877,
                  "mutability": "mutable",
                  "name": "",
                  "nameLocation": "-1:-1:-1",
                  "nodeType": "VariableDeclaration",
                  "scope": 879,
                  "src": "11891:7:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 876,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "11891:7:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "11890:9:7"
            },
            "scope": 933,
            "src": "11843:57:7",
            "stateMutability": "view",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 880,
              "nodeType": "StructuredDocumentation",
              "src": "11906:143:7",
              "text": " @notice Returns a descriptor about the currency that this contract accepts\n @return the string describing the currency"
            },
            "functionSelector": "1c6d7675",
            "id": 885,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "acceptedCurrency",
            "nameLocation": "12063:16:7",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 881,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "12079:2:7"
            },
            "returnParameters": {
              "id": 884,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 883,
                  "mutability": "mutable",
                  "name": "",
                  "nameLocation": "-1:-1:-1",
                  "nodeType": "VariableDeclaration",
                  "scope": 885,
                  "src": "12105:13:7",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_string_memory_ptr",
                    "typeString": "string"
                  },
                  "typeName": {
                    "id": 882,
                    "name": "string",
                    "nodeType": "ElementaryTypeName",
                    "src": "12105:6:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_string_storage_ptr",
                      "typeString": "string"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "12104:15:7"
            },
            "scope": 933,
            "src": "12054:66:7",
            "stateMutability": "view",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 886,
              "nodeType": "StructuredDocumentation",
              "src": "12126:464:7",
              "text": " @notice Returns true if the 'amount' required for a payment is available to this contract.\n @dev In more detail: returns true if the sum of the buyer's local balance in this contract,\n  plus the external balance in the native crypto, are larger or equal than 'amount'\n @param buyer The address for which funds are queried\n @param amount The amount that is queried\n @return Returns true if enough funds are available"
            },
            "functionSelector": "9cfd495c",
            "id": 895,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "enoughFundsAvailable",
            "nameLocation": "12604:20:7",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 891,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 888,
                  "mutability": "mutable",
                  "name": "buyer",
                  "nameLocation": "12633:5:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 895,
                  "src": "12625:13:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 887,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "12625:7:7",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 890,
                  "mutability": "mutable",
                  "name": "amount",
                  "nameLocation": "12648:6:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 895,
                  "src": "12640:14:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 889,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "12640:7:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "12624:31:7"
            },
            "returnParameters": {
              "id": 894,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 893,
                  "mutability": "mutable",
                  "name": "",
                  "nameLocation": "-1:-1:-1",
                  "nodeType": "VariableDeclaration",
                  "scope": 895,
                  "src": "12703:4:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bool",
                    "typeString": "bool"
                  },
                  "typeName": {
                    "id": 892,
                    "name": "bool",
                    "nodeType": "ElementaryTypeName",
                    "src": "12703:4:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "12702:6:7"
            },
            "scope": 933,
            "src": "12595:114:7",
            "stateMutability": "view",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 896,
              "nodeType": "StructuredDocumentation",
              "src": "12715:329:7",
              "text": " @notice Returns the maximum amount of funds available to a buyer\n @dev In more detail: returns the sum of the buyer's local balance in this contract,\n  plus the external balance in the native crypto.\n @param buyer The address for which funds are queried\n @return the max funds available"
            },
            "functionSelector": "c67eb9e5",
            "id": 903,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "maxFundsAvailable",
            "nameLocation": "13058:17:7",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 899,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 898,
                  "mutability": "mutable",
                  "name": "buyer",
                  "nameLocation": "13084:5:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 903,
                  "src": "13076:13:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 897,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "13076:7:7",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "13075:15:7"
            },
            "returnParameters": {
              "id": 902,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 901,
                  "mutability": "mutable",
                  "name": "",
                  "nameLocation": "-1:-1:-1",
                  "nodeType": "VariableDeclaration",
                  "scope": 903,
                  "src": "13114:7:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 900,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "13114:7:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "13113:9:7"
            },
            "scope": 933,
            "src": "13049:74:7",
            "stateMutability": "view",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 904,
              "nodeType": "StructuredDocumentation",
              "src": "13129:595:7",
              "text": " @notice Splits the funds required to pay 'amount' into two sources:\n  - externalFunds: the amount of crypto required to be transferred from the external buyer balance\n  - localFunds: the amount of crypto required from the buyer's already available balance in this contract.\n @param buyer The address for which the amount is to be split\n @param amount The amount to be split\n @return externalFunds The amount of funds required to be transferred from the external buyer balance\n @return localFunds The amount of local funds that will be used."
            },
            "functionSelector": "317cb018",
            "id": 915,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "splitFundingSources",
            "nameLocation": "13738:19:7",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 909,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 906,
                  "mutability": "mutable",
                  "name": "buyer",
                  "nameLocation": "13766:5:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 915,
                  "src": "13758:13:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 905,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "13758:7:7",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 908,
                  "mutability": "mutable",
                  "name": "amount",
                  "nameLocation": "13781:6:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 915,
                  "src": "13773:14:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 907,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "13773:7:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "13757:31:7"
            },
            "returnParameters": {
              "id": 914,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 911,
                  "mutability": "mutable",
                  "name": "externalFunds",
                  "nameLocation": "13844:13:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 915,
                  "src": "13836:21:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 910,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "13836:7:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 913,
                  "mutability": "mutable",
                  "name": "localFunds",
                  "nameLocation": "13867:10:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 915,
                  "src": "13859:18:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 912,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "13859:7:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "13835:43:7"
            },
            "scope": 933,
            "src": "13729:150:7",
            "stateMutability": "view",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 916,
              "nodeType": "StructuredDocumentation",
              "src": "13885:139:7",
              "text": " @notice Reverts unless the requirements for a PaymentInput are fulfilled.\n @param payInput The PaymentInput struct"
            },
            "functionSelector": "caa3cecc",
            "id": 922,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "checkPaymentInputs",
            "nameLocation": "14038:18:7",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 920,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 919,
                  "mutability": "mutable",
                  "name": "payInput",
                  "nameLocation": "14079:8:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 922,
                  "src": "14057:30:7",
                  "stateVariable": false,
                  "storageLocation": "calldata",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_PaymentInput_$951_calldata_ptr",
                    "typeString": "struct ISignableStructs.PaymentInput"
                  },
                  "typeName": {
                    "id": 918,
                    "nodeType": "UserDefinedTypeName",
                    "pathNode": {
                      "id": 917,
                      "name": "PaymentInput",
                      "nodeType": "IdentifierPath",
                      "referencedDeclaration": 951,
                      "src": "14057:12:7"
                    },
                    "referencedDeclaration": 951,
                    "src": "14057:12:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_PaymentInput_$951_storage_ptr",
                      "typeString": "struct ISignableStructs.PaymentInput"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "14056:32:7"
            },
            "returnParameters": {
              "id": 921,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "14102:0:7"
            },
            "scope": 933,
            "src": "14029:74:7",
            "stateMutability": "view",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 923,
              "nodeType": "StructuredDocumentation",
              "src": "14132:396:7",
              "text": " @notice Safe computation of fee amount for a provided amount, feeBPS pair\n @dev Must return a value that is guaranteed to be less or equal to the provided amount\n @param amount The amount\n @param feeBPS The percentage fee expressed in Basis Points (bps).\n  feeBPS examples:  2.5% = 250 bps, 10% = 1000 bps, 100% = 10000 bps\n @return The fee amount"
            },
            "functionSelector": "2af41be4",
            "id": 932,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "computeFeeAmount",
            "nameLocation": "14542:16:7",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 928,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 925,
                  "mutability": "mutable",
                  "name": "amount",
                  "nameLocation": "14567:6:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 932,
                  "src": "14559:14:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 924,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "14559:7:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 927,
                  "mutability": "mutable",
                  "name": "feeBPS",
                  "nameLocation": "14583:6:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 932,
                  "src": "14575:14:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 926,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "14575:7:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "14558:32:7"
            },
            "returnParameters": {
              "id": 931,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 930,
                  "mutability": "mutable",
                  "name": "",
                  "nameLocation": "-1:-1:-1",
                  "nodeType": "VariableDeclaration",
                  "scope": 932,
                  "src": "14638:7:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 929,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "14638:7:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "14637:9:7"
            },
            "scope": 933,
            "src": "14533:114:7",
            "stateMutability": "pure",
            "virtual": false,
            "visibility": "external"
          }
        ],
        "scope": 934,
        "src": "1921:12728:7",
        "usedErrors": []
      }
    ],
    "src": "32:14618:7"
  },
  "legacyAST": {
    "absolutePath": "project:/contracts/IPaymentsNative.sol",
    "exportedSymbols": {
      "IPaymentsNative": [
        933
      ],
      "ISignableStructs": [
        957
      ]
    },
    "id": 934,
    "license": "MIT",
    "nodeType": "SourceUnit",
    "nodes": [
      {
        "id": 696,
        "literals": [
          "solidity",
          "=",
          "0.8",
          ".12"
        ],
        "nodeType": "PragmaDirective",
        "src": "32:24:7"
      },
      {
        "absolutePath": "project:/contracts/ISignableStructs.sol",
        "file": "./ISignableStructs.sol",
        "id": 697,
        "nameLocation": "-1:-1:-1",
        "nodeType": "ImportDirective",
        "scope": 934,
        "sourceUnit": 958,
        "src": "58:32:7",
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "abstract": false,
        "baseContracts": [
          {
            "baseName": {
              "id": 699,
              "name": "ISignableStructs",
              "nodeType": "IdentifierPath",
              "referencedDeclaration": 957,
              "src": "1950:16:7"
            },
            "id": 700,
            "nodeType": "InheritanceSpecifier",
            "src": "1950:16:7"
          }
        ],
        "canonicalName": "IPaymentsNative",
        "contractDependencies": [],
        "contractKind": "interface",
        "documentation": {
          "id": 698,
          "nodeType": "StructuredDocumentation",
          "src": "92:1827:7",
          "text": " @title Interface to Payments Contract in Native Cryptocurencies.\n @author Freeverse.io, www.freeverse.io\n @dev Upon transfer of cryptocurrency to this contract, it remains\n locked until an Operator confirms the success or failure of the\n asset transfer required to fulfil this payment.\n If no confirmation is received from the operator during the PaymentWindow,\n all funds received from the buyer are made available to the buyer for refund.\n To start a payment, signatures of both the buyer and the Operator are required:\n - the buyer is the msg.sender (the buyer therefore signs the TX), \n - the operator's EIP712-signature of the PaymentInput struct is provided as input to the call.\n This contract maintains the balances of all users, it does not transfer them automatically.\n Users need to explicitly call the 'withdraw' method, which withdraws balanceOf[msg.sender]\n If a buyer has a non-zero local balance at the moment of starting a new payment,\n the contract reuses it, and only requires the provision of the\n remainder required (if any) as msg.value\n Each payment has the following State Machine:\n - NOT_STARTED -> ASSET_TRANSFERRING, triggered by pay\n - ASSET_TRANSFERRING -> PAID, triggered by relaying assetTransferSuccess signed by operator\n - ASSET_TRANSFERRING -> REFUNDED, triggered by relaying assetTransferFailed signed by operator\n - ASSET_TRANSFERRING -> REFUNDED, triggered by a refund request after expirationTime\n NOTE: To ensure that the payment process proceeds as expected when the payment starts,\n upon acceptance of a payment, the following data: {operator, feesCollector, expirationTime}\n is stored in the payment struct, and used throughout the payment, regardless of\n any possible modifications to the contract's storage."
        },
        "fullyImplemented": false,
        "id": 933,
        "linearizedBaseContracts": [
          933,
          957
        ],
        "name": "IPaymentsNative",
        "nameLocation": "1931:15:7",
        "nodeType": "ContractDefinition",
        "nodes": [
          {
            "anonymous": false,
            "documentation": {
              "id": 701,
              "nodeType": "StructuredDocumentation",
              "src": "1973:159:7",
              "text": " @dev Event emitted on change of EIP712 verifier contract address\n @param eip712address The address of the new EIP712 verifier contract"
            },
            "id": 705,
            "name": "EIP712",
            "nameLocation": "2144:6:7",
            "nodeType": "EventDefinition",
            "parameters": {
              "id": 704,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 703,
                  "indexed": false,
                  "mutability": "mutable",
                  "name": "eip712address",
                  "nameLocation": "2159:13:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 705,
                  "src": "2151:21:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 702,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "2151:7:7",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "2150:23:7"
            },
            "src": "2138:36:7"
          },
          {
            "anonymous": false,
            "documentation": {
              "id": 706,
              "nodeType": "StructuredDocumentation",
              "src": "2180:243:7",
              "text": " @dev Event emitted on change of payment window\n @param window The new amount of time after the arrival of a payment for which, \n  in absence of confirmation of asset transfer success, a buyer is allowed to refund"
            },
            "id": 710,
            "name": "PaymentWindow",
            "nameLocation": "2434:13:7",
            "nodeType": "EventDefinition",
            "parameters": {
              "id": 709,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 708,
                  "indexed": false,
                  "mutability": "mutable",
                  "name": "window",
                  "nameLocation": "2456:6:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 710,
                  "src": "2448:14:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 707,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2448:7:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "2447:16:7"
            },
            "src": "2428:36:7"
          },
          {
            "anonymous": false,
            "documentation": {
              "id": 711,
              "nodeType": "StructuredDocumentation",
              "src": "2470:157:7",
              "text": " @dev Event emitted when a user executes the registerAsSeller method\n @param seller The address of the newly registeredAsSeller user."
            },
            "id": 715,
            "name": "NewSeller",
            "nameLocation": "2638:9:7",
            "nodeType": "EventDefinition",
            "parameters": {
              "id": 714,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 713,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "seller",
                  "nameLocation": "2664:6:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 715,
                  "src": "2648:22:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 712,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "2648:7:7",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "2647:24:7"
            },
            "src": "2632:40:7"
          },
          {
            "anonymous": false,
            "documentation": {
              "id": 716,
              "nodeType": "StructuredDocumentation",
              "src": "2678:209:7",
              "text": " @dev Event emitted when a buyer is refunded for a given payment process\n @param paymentId The id of the already initiated payment \n @param buyer The address of the refunded buyer"
            },
            "id": 722,
            "name": "BuyerRefunded",
            "nameLocation": "2898:13:7",
            "nodeType": "EventDefinition",
            "parameters": {
              "id": 721,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 718,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "paymentId",
                  "nameLocation": "2928:9:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 722,
                  "src": "2912:25:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes32",
                    "typeString": "bytes32"
                  },
                  "typeName": {
                    "id": 717,
                    "name": "bytes32",
                    "nodeType": "ElementaryTypeName",
                    "src": "2912:7:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes32",
                      "typeString": "bytes32"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 720,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "buyer",
                  "nameLocation": "2955:5:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 722,
                  "src": "2939:21:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 719,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "2939:7:7",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "2911:50:7"
            },
            "src": "2892:70:7"
          },
          {
            "anonymous": false,
            "documentation": {
              "id": 723,
              "nodeType": "StructuredDocumentation",
              "src": "2968:280:7",
              "text": " @dev Event emitted when funds for a given payment arrive to this contract\n @param paymentId The unique id identifying the payment \n @param buyer The address of the buyer providing the funds\n @param seller The address of the seller of the asset"
            },
            "id": 731,
            "name": "PayIn",
            "nameLocation": "3259:5:7",
            "nodeType": "EventDefinition",
            "parameters": {
              "id": 730,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 725,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "paymentId",
                  "nameLocation": "3290:9:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 731,
                  "src": "3274:25:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes32",
                    "typeString": "bytes32"
                  },
                  "typeName": {
                    "id": 724,
                    "name": "bytes32",
                    "nodeType": "ElementaryTypeName",
                    "src": "3274:7:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes32",
                      "typeString": "bytes32"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 727,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "buyer",
                  "nameLocation": "3325:5:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 731,
                  "src": "3309:21:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 726,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "3309:7:7",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 729,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "seller",
                  "nameLocation": "3356:6:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 731,
                  "src": "3340:22:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 728,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "3340:7:7",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "3264:104:7"
            },
            "src": "3253:116:7"
          },
          {
            "anonymous": false,
            "documentation": {
              "id": 732,
              "nodeType": "StructuredDocumentation",
              "src": "3375:204:7",
              "text": " @dev Event emitted when a payment process arrives at the PAID \n  final state, where the seller receives the funds.\n @param paymentId The id of the already initiated payment "
            },
            "id": 736,
            "name": "Paid",
            "nameLocation": "3590:4:7",
            "nodeType": "EventDefinition",
            "parameters": {
              "id": 735,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 734,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "paymentId",
                  "nameLocation": "3611:9:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 736,
                  "src": "3595:25:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes32",
                    "typeString": "bytes32"
                  },
                  "typeName": {
                    "id": 733,
                    "name": "bytes32",
                    "nodeType": "ElementaryTypeName",
                    "src": "3595:7:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes32",
                      "typeString": "bytes32"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "3594:27:7"
            },
            "src": "3584:38:7"
          },
          {
            "anonymous": false,
            "documentation": {
              "id": 737,
              "nodeType": "StructuredDocumentation",
              "src": "3628:228:7",
              "text": " @dev Event emitted when user withdraws funds from this contract\n @param user The address of the user that withdraws\n @param amount The amount withdrawn, in lowest units of the native cryptocurrency"
            },
            "id": 743,
            "name": "Withdraw",
            "nameLocation": "3867:8:7",
            "nodeType": "EventDefinition",
            "parameters": {
              "id": 742,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 739,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "user",
                  "nameLocation": "3892:4:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 743,
                  "src": "3876:20:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 738,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "3876:7:7",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 741,
                  "indexed": false,
                  "mutability": "mutable",
                  "name": "amount",
                  "nameLocation": "3906:6:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 743,
                  "src": "3898:14:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 740,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "3898:7:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "3875:38:7"
            },
            "src": "3861:53:7"
          },
          {
            "canonicalName": "IPaymentsNative.State",
            "id": 748,
            "members": [
              {
                "id": 744,
                "name": "NotStarted",
                "nameLocation": "4034:10:7",
                "nodeType": "EnumValue",
                "src": "4034:10:7"
              },
              {
                "id": 745,
                "name": "AssetTransferring",
                "nameLocation": "4054:17:7",
                "nodeType": "EnumValue",
                "src": "4054:17:7"
              },
              {
                "id": 746,
                "name": "Refunded",
                "nameLocation": "4081:8:7",
                "nodeType": "EnumValue",
                "src": "4081:8:7"
              },
              {
                "id": 747,
                "name": "Paid",
                "nameLocation": "4099:4:7",
                "nodeType": "EnumValue",
                "src": "4099:4:7"
              }
            ],
            "name": "State",
            "nameLocation": "4018:5:7",
            "nodeType": "EnumDefinition",
            "src": "4013:96:7"
          },
          {
            "canonicalName": "IPaymentsNative.Payment",
            "id": 766,
            "members": [
              {
                "constant": false,
                "id": 751,
                "mutability": "mutable",
                "name": "state",
                "nameLocation": "4378:5:7",
                "nodeType": "VariableDeclaration",
                "scope": 766,
                "src": "4372:11:7",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_enum$_State_$748",
                  "typeString": "enum IPaymentsNative.State"
                },
                "typeName": {
                  "id": 750,
                  "nodeType": "UserDefinedTypeName",
                  "pathNode": {
                    "id": 749,
                    "name": "State",
                    "nodeType": "IdentifierPath",
                    "referencedDeclaration": 748,
                    "src": "4372:5:7"
                  },
                  "referencedDeclaration": 748,
                  "src": "4372:5:7",
                  "typeDescriptions": {
                    "typeIdentifier": "t_enum$_State_$748",
                    "typeString": "enum IPaymentsNative.State"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 753,
                "mutability": "mutable",
                "name": "buyer",
                "nameLocation": "4518:5:7",
                "nodeType": "VariableDeclaration",
                "scope": 766,
                "src": "4510:13:7",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_address",
                  "typeString": "address"
                },
                "typeName": {
                  "id": 752,
                  "name": "address",
                  "nodeType": "ElementaryTypeName",
                  "src": "4510:7:7",
                  "stateMutability": "nonpayable",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 755,
                "mutability": "mutable",
                "name": "seller",
                "nameLocation": "4669:6:7",
                "nodeType": "VariableDeclaration",
                "scope": 766,
                "src": "4661:14:7",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_address",
                  "typeString": "address"
                },
                "typeName": {
                  "id": 754,
                  "name": "address",
                  "nodeType": "ElementaryTypeName",
                  "src": "4661:7:7",
                  "stateMutability": "nonpayable",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 757,
                "mutability": "mutable",
                "name": "operator",
                "nameLocation": "4749:8:7",
                "nodeType": "VariableDeclaration",
                "scope": 766,
                "src": "4741:16:7",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_address",
                  "typeString": "address"
                },
                "typeName": {
                  "id": 756,
                  "name": "address",
                  "nodeType": "ElementaryTypeName",
                  "src": "4741:7:7",
                  "stateMutability": "nonpayable",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 759,
                "mutability": "mutable",
                "name": "feesCollector",
                "nameLocation": "4836:13:7",
                "nodeType": "VariableDeclaration",
                "scope": 766,
                "src": "4828:21:7",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_address",
                  "typeString": "address"
                },
                "typeName": {
                  "id": 758,
                  "name": "address",
                  "nodeType": "ElementaryTypeName",
                  "src": "4828:7:7",
                  "stateMutability": "nonpayable",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 761,
                "mutability": "mutable",
                "name": "expirationTime",
                "nameLocation": "5001:14:7",
                "nodeType": "VariableDeclaration",
                "scope": 766,
                "src": "4993:22:7",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_uint256",
                  "typeString": "uint256"
                },
                "typeName": {
                  "id": 760,
                  "name": "uint256",
                  "nodeType": "ElementaryTypeName",
                  "src": "4993:7:7",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 763,
                "mutability": "mutable",
                "name": "feeBPS",
                "nameLocation": "5187:6:7",
                "nodeType": "VariableDeclaration",
                "scope": 766,
                "src": "5179:14:7",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_uint256",
                  "typeString": "uint256"
                },
                "typeName": {
                  "id": 762,
                  "name": "uint256",
                  "nodeType": "ElementaryTypeName",
                  "src": "5179:7:7",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 765,
                "mutability": "mutable",
                "name": "amount",
                "nameLocation": "5318:6:7",
                "nodeType": "VariableDeclaration",
                "scope": 766,
                "src": "5310:14:7",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_uint256",
                  "typeString": "uint256"
                },
                "typeName": {
                  "id": 764,
                  "name": "uint256",
                  "nodeType": "ElementaryTypeName",
                  "src": "5310:7:7",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  }
                },
                "visibility": "internal"
              }
            ],
            "name": "Payment",
            "nameLocation": "4302:7:7",
            "nodeType": "StructDefinition",
            "scope": 933,
            "src": "4295:1036:7",
            "visibility": "public"
          },
          {
            "documentation": {
              "id": 767,
              "nodeType": "StructuredDocumentation",
              "src": "5337:201:7",
              "text": " @notice Registers msg.sender as seller so that, if the contract has set\n  _isSellerRegistrationRequired = true, then payments will be accepted with\n  msg.sender as seller."
            },
            "functionSelector": "128b8532",
            "id": 770,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "registerAsSeller",
            "nameLocation": "5552:16:7",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 768,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "5568:2:7"
            },
            "returnParameters": {
              "id": 769,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "5579:0:7"
            },
            "scope": 933,
            "src": "5543:37:7",
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 771,
              "nodeType": "StructuredDocumentation",
              "src": "5586:686:7",
              "text": " @notice Starts Payment process by the buyer.\n @dev Executed by the buyer, who relays the MetaTX with the operator's signature.\n  The buyer must provide the correct amount via msg.value.\n  If all requirements are fulfilled, it stores the data relevant\n  for the next steps of the payment, and it locks the funds\n  in this contract.\n  Follows standard Checks-Effects-Interactions pattern\n  to protect against re-entrancy attacks.\n  Moves payment to ASSET_TRANSFERRING state.\n @param payInput The struct containing all required payment data\n @param operatorSignature The signature of 'payInput' by the operator"
            },
            "functionSelector": "23f7a900",
            "id": 779,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "pay",
            "nameLocation": "6286:3:7",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 777,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 774,
                  "mutability": "mutable",
                  "name": "payInput",
                  "nameLocation": "6312:8:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 779,
                  "src": "6290:30:7",
                  "stateVariable": false,
                  "storageLocation": "calldata",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_PaymentInput_$951_calldata_ptr",
                    "typeString": "struct ISignableStructs.PaymentInput"
                  },
                  "typeName": {
                    "id": 773,
                    "nodeType": "UserDefinedTypeName",
                    "pathNode": {
                      "id": 772,
                      "name": "PaymentInput",
                      "nodeType": "IdentifierPath",
                      "referencedDeclaration": 951,
                      "src": "6290:12:7"
                    },
                    "referencedDeclaration": 951,
                    "src": "6290:12:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_PaymentInput_$951_storage_ptr",
                      "typeString": "struct ISignableStructs.PaymentInput"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 776,
                  "mutability": "mutable",
                  "name": "operatorSignature",
                  "nameLocation": "6337:17:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 779,
                  "src": "6322:32:7",
                  "stateVariable": false,
                  "storageLocation": "calldata",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes_calldata_ptr",
                    "typeString": "bytes"
                  },
                  "typeName": {
                    "id": 775,
                    "name": "bytes",
                    "nodeType": "ElementaryTypeName",
                    "src": "6322:5:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes_storage_ptr",
                      "typeString": "bytes"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "6289:66:7"
            },
            "returnParameters": {
              "id": 778,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "6388:0:7"
            },
            "scope": 933,
            "src": "6277:112:7",
            "stateMutability": "payable",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 780,
              "nodeType": "StructuredDocumentation",
              "src": "6395:606:7",
              "text": " @notice Relays the operator signature declaring that the asset transfer was successful or failed,\n  and updates balances of seller or buyer, respectively.\n @dev Can be executed by anyone, but the operator signature must be included as input param.\n  Seller or Buyer's balances are updated, allowing explicit withdrawal.\n  Moves payment to PAID or REFUNDED state on transfer success/failure, respectively.\n @param transferResult The asset transfer result struct signed by the operator.\n @param operatorSignature The operator signature of transferResult"
            },
            "functionSelector": "96aa71b0",
            "id": 788,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "finalize",
            "nameLocation": "7015:8:7",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 786,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 783,
                  "mutability": "mutable",
                  "name": "transferResult",
                  "nameLocation": "7062:14:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 788,
                  "src": "7033:43:7",
                  "stateVariable": false,
                  "storageLocation": "calldata",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_AssetTransferResult_$956_calldata_ptr",
                    "typeString": "struct ISignableStructs.AssetTransferResult"
                  },
                  "typeName": {
                    "id": 782,
                    "nodeType": "UserDefinedTypeName",
                    "pathNode": {
                      "id": 781,
                      "name": "AssetTransferResult",
                      "nodeType": "IdentifierPath",
                      "referencedDeclaration": 956,
                      "src": "7033:19:7"
                    },
                    "referencedDeclaration": 956,
                    "src": "7033:19:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_AssetTransferResult_$956_storage_ptr",
                      "typeString": "struct ISignableStructs.AssetTransferResult"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 785,
                  "mutability": "mutable",
                  "name": "operatorSignature",
                  "nameLocation": "7101:17:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 788,
                  "src": "7086:32:7",
                  "stateVariable": false,
                  "storageLocation": "calldata",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes_calldata_ptr",
                    "typeString": "bytes"
                  },
                  "typeName": {
                    "id": 784,
                    "name": "bytes",
                    "nodeType": "ElementaryTypeName",
                    "src": "7086:5:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes_storage_ptr",
                      "typeString": "bytes"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "7023:101:7"
            },
            "returnParameters": {
              "id": 787,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "7133:0:7"
            },
            "scope": 933,
            "src": "7006:128:7",
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 789,
              "nodeType": "StructuredDocumentation",
              "src": "7140:770:7",
              "text": " @notice Relays the operator signature declaring that the asset transfer was successful or failed,\n  updates balances of seller or buyer, respectively,\n  and proceeds to withdraw all funds in this contract available to msg.sender.\n @dev Can be executed by anyone, but the operator signature must be included as input param.\n  It is, however, expected to be executed by the seller, in case of a successful asset transfer,\n  or the buyer, in case of a failed asset transfer.\n  Moves payment to PAID or REFUNDED state on transfer success/failure, respectively.\n @param transferResult The asset transfer result struct signed by the operator.\n @param operatorSignature The operator signature of transferResult"
            },
            "functionSelector": "a1bc474d",
            "id": 797,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "finalizeAndWithdraw",
            "nameLocation": "7924:19:7",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 795,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 792,
                  "mutability": "mutable",
                  "name": "transferResult",
                  "nameLocation": "7982:14:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 797,
                  "src": "7953:43:7",
                  "stateVariable": false,
                  "storageLocation": "calldata",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_AssetTransferResult_$956_calldata_ptr",
                    "typeString": "struct ISignableStructs.AssetTransferResult"
                  },
                  "typeName": {
                    "id": 791,
                    "nodeType": "UserDefinedTypeName",
                    "pathNode": {
                      "id": 790,
                      "name": "AssetTransferResult",
                      "nodeType": "IdentifierPath",
                      "referencedDeclaration": 956,
                      "src": "7953:19:7"
                    },
                    "referencedDeclaration": 956,
                    "src": "7953:19:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_AssetTransferResult_$956_storage_ptr",
                      "typeString": "struct ISignableStructs.AssetTransferResult"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 794,
                  "mutability": "mutable",
                  "name": "operatorSignature",
                  "nameLocation": "8021:17:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 797,
                  "src": "8006:32:7",
                  "stateVariable": false,
                  "storageLocation": "calldata",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes_calldata_ptr",
                    "typeString": "bytes"
                  },
                  "typeName": {
                    "id": 793,
                    "name": "bytes",
                    "nodeType": "ElementaryTypeName",
                    "src": "8006:5:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes_storage_ptr",
                      "typeString": "bytes"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "7943:101:7"
            },
            "returnParameters": {
              "id": 796,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "8053:0:7"
            },
            "scope": 933,
            "src": "7915:139:7",
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 798,
              "nodeType": "StructuredDocumentation",
              "src": "8060:346:7",
              "text": " @notice Moves buyer's provided funds to buyer's balance.\n @dev Anybody can call this function.\n  Requires acceptsRefunds == true to proceed.\n  After updating buyer's balance, he/she can later withdraw.\n  Moves payment to REFUNDED state.\n @param paymentId The unique ID that identifies the payment."
            },
            "functionSelector": "7249fbb6",
            "id": 803,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "refund",
            "nameLocation": "8420:6:7",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 801,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 800,
                  "mutability": "mutable",
                  "name": "paymentId",
                  "nameLocation": "8435:9:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 803,
                  "src": "8427:17:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes32",
                    "typeString": "bytes32"
                  },
                  "typeName": {
                    "id": 799,
                    "name": "bytes32",
                    "nodeType": "ElementaryTypeName",
                    "src": "8427:7:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes32",
                      "typeString": "bytes32"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "8426:19:7"
            },
            "returnParameters": {
              "id": 802,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "8454:0:7"
            },
            "scope": 933,
            "src": "8411:44:7",
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 804,
              "nodeType": "StructuredDocumentation",
              "src": "8461:416:7",
              "text": " @notice Executes refund and withdraw in one transaction.\n @dev Anybody can call this function.\n  Requires acceptsRefunds == true to proceed.\n  All of msg.sender's balance in the contract is withdrawn,\n  not only the part that was locked in this particular paymentId\n  Moves payment to REFUNDED state.\n @param paymentId The unique ID that identifies the payment."
            },
            "functionSelector": "2593308b",
            "id": 809,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "refundAndWithdraw",
            "nameLocation": "8891:17:7",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 807,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 806,
                  "mutability": "mutable",
                  "name": "paymentId",
                  "nameLocation": "8917:9:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 809,
                  "src": "8909:17:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes32",
                    "typeString": "bytes32"
                  },
                  "typeName": {
                    "id": 805,
                    "name": "bytes32",
                    "nodeType": "ElementaryTypeName",
                    "src": "8909:7:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes32",
                      "typeString": "bytes32"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "8908:19:7"
            },
            "returnParameters": {
              "id": 808,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "8936:0:7"
            },
            "scope": 933,
            "src": "8882:55:7",
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 810,
              "nodeType": "StructuredDocumentation",
              "src": "8943:115:7",
              "text": " @notice Transfers funds avaliable in this\n  contract's balanceOf[msg.sender] to msg.sender"
            },
            "functionSelector": "3ccfd60b",
            "id": 813,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "withdraw",
            "nameLocation": "9072:8:7",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 811,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "9080:2:7"
            },
            "returnParameters": {
              "id": 812,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "9091:0:7"
            },
            "scope": 933,
            "src": "9063:29:7",
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 814,
              "nodeType": "StructuredDocumentation",
              "src": "9098:232:7",
              "text": " @notice Transfers only the specified amount\n  from this contract's balanceOf[msg.sender] to msg.sender.\n  Reverts if balanceOf[msg.sender] < amount.\n @param amount The required amount to withdraw"
            },
            "functionSelector": "0562b9f7",
            "id": 819,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "withdrawAmount",
            "nameLocation": "9344:14:7",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 817,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 816,
                  "mutability": "mutable",
                  "name": "amount",
                  "nameLocation": "9367:6:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 819,
                  "src": "9359:14:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 815,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "9359:7:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "9358:16:7"
            },
            "returnParameters": {
              "id": 818,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "9383:0:7"
            },
            "scope": 933,
            "src": "9335:49:7",
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 820,
              "nodeType": "StructuredDocumentation",
              "src": "9413:193:7",
              "text": " @notice Returns whether sellers need to be registered to be able to accept payments\n @return Returns true if sellers need to be registered to be able to accept payments"
            },
            "functionSelector": "221a832e",
            "id": 825,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "isSellerRegistrationRequired",
            "nameLocation": "9620:28:7",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 821,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "9648:2:7"
            },
            "returnParameters": {
              "id": 824,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 823,
                  "mutability": "mutable",
                  "name": "",
                  "nameLocation": "-1:-1:-1",
                  "nodeType": "VariableDeclaration",
                  "scope": 825,
                  "src": "9674:4:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bool",
                    "typeString": "bool"
                  },
                  "typeName": {
                    "id": 822,
                    "name": "bool",
                    "nodeType": "ElementaryTypeName",
                    "src": "9674:4:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "9673:6:7"
            },
            "scope": 933,
            "src": "9611:69:7",
            "stateMutability": "view",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 826,
              "nodeType": "StructuredDocumentation",
              "src": "9686:200:7",
              "text": " @notice Returns true if the address provided is a registered seller\n @param addr the address that is queried\n @return Returns whether the address is registered as seller"
            },
            "functionSelector": "78e96fb5",
            "id": 833,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "isRegisteredSeller",
            "nameLocation": "9900:18:7",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 829,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 828,
                  "mutability": "mutable",
                  "name": "addr",
                  "nameLocation": "9927:4:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 833,
                  "src": "9919:12:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 827,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "9919:7:7",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "9918:14:7"
            },
            "returnParameters": {
              "id": 832,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 831,
                  "mutability": "mutable",
                  "name": "",
                  "nameLocation": "-1:-1:-1",
                  "nodeType": "VariableDeclaration",
                  "scope": 833,
                  "src": "9956:4:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bool",
                    "typeString": "bool"
                  },
                  "typeName": {
                    "id": 830,
                    "name": "bool",
                    "nodeType": "ElementaryTypeName",
                    "src": "9956:4:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "9955:6:7"
            },
            "scope": 933,
            "src": "9891:71:7",
            "stateMutability": "view",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 834,
              "nodeType": "StructuredDocumentation",
              "src": "9968:234:7",
              "text": " @notice Returns the local balance of the provided address that is stored in this\n  contract, and hence, available for withdrawal.\n @param addr the address that is queried\n @return the local balance"
            },
            "functionSelector": "70a08231",
            "id": 841,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "balanceOf",
            "nameLocation": "10216:9:7",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 837,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 836,
                  "mutability": "mutable",
                  "name": "addr",
                  "nameLocation": "10234:4:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 841,
                  "src": "10226:12:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 835,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "10226:7:7",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "10225:14:7"
            },
            "returnParameters": {
              "id": 840,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 839,
                  "mutability": "mutable",
                  "name": "",
                  "nameLocation": "-1:-1:-1",
                  "nodeType": "VariableDeclaration",
                  "scope": 841,
                  "src": "10263:7:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 838,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "10263:7:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "10262:9:7"
            },
            "scope": 933,
            "src": "10207:65:7",
            "stateMutability": "view",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 842,
              "nodeType": "StructuredDocumentation",
              "src": "10278:179:7",
              "text": " @notice Returns all data stored in a payment\n @param paymentId The unique ID that identifies the payment.\n @return the struct stored for the payment"
            },
            "functionSelector": "dd115ab2",
            "id": 850,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "paymentInfo",
            "nameLocation": "10471:11:7",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 845,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 844,
                  "mutability": "mutable",
                  "name": "paymentId",
                  "nameLocation": "10491:9:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 850,
                  "src": "10483:17:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes32",
                    "typeString": "bytes32"
                  },
                  "typeName": {
                    "id": 843,
                    "name": "bytes32",
                    "nodeType": "ElementaryTypeName",
                    "src": "10483:7:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes32",
                      "typeString": "bytes32"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "10482:19:7"
            },
            "returnParameters": {
              "id": 849,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 848,
                  "mutability": "mutable",
                  "name": "",
                  "nameLocation": "-1:-1:-1",
                  "nodeType": "VariableDeclaration",
                  "scope": 850,
                  "src": "10549:14:7",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_Payment_$766_memory_ptr",
                    "typeString": "struct IPaymentsNative.Payment"
                  },
                  "typeName": {
                    "id": 847,
                    "nodeType": "UserDefinedTypeName",
                    "pathNode": {
                      "id": 846,
                      "name": "Payment",
                      "nodeType": "IdentifierPath",
                      "referencedDeclaration": 766,
                      "src": "10549:7:7"
                    },
                    "referencedDeclaration": 766,
                    "src": "10549:7:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Payment_$766_storage_ptr",
                      "typeString": "struct IPaymentsNative.Payment"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "10548:16:7"
            },
            "scope": 933,
            "src": "10462:103:7",
            "stateMutability": "view",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 851,
              "nodeType": "StructuredDocumentation",
              "src": "10571:310:7",
              "text": " @notice Returns the state of a payment.\n @dev If payment is in ASSET_TRANSFERRING, it may be worth\n  checking acceptsRefunds ot check if it has gone beyond expirationTime.\n @param paymentId The unique ID that identifies the payment.\n @return the state of the payment."
            },
            "functionSelector": "34b778ed",
            "id": 859,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "paymentState",
            "nameLocation": "10895:12:7",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 854,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 853,
                  "mutability": "mutable",
                  "name": "paymentId",
                  "nameLocation": "10916:9:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 859,
                  "src": "10908:17:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes32",
                    "typeString": "bytes32"
                  },
                  "typeName": {
                    "id": 852,
                    "name": "bytes32",
                    "nodeType": "ElementaryTypeName",
                    "src": "10908:7:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes32",
                      "typeString": "bytes32"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "10907:19:7"
            },
            "returnParameters": {
              "id": 858,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 857,
                  "mutability": "mutable",
                  "name": "",
                  "nameLocation": "-1:-1:-1",
                  "nodeType": "VariableDeclaration",
                  "scope": 859,
                  "src": "10950:5:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_enum$_State_$748",
                    "typeString": "enum IPaymentsNative.State"
                  },
                  "typeName": {
                    "id": 856,
                    "nodeType": "UserDefinedTypeName",
                    "pathNode": {
                      "id": 855,
                      "name": "State",
                      "nodeType": "IdentifierPath",
                      "referencedDeclaration": 748,
                      "src": "10950:5:7"
                    },
                    "referencedDeclaration": 748,
                    "src": "10950:5:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_enum$_State_$748",
                      "typeString": "enum IPaymentsNative.State"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "10949:7:7"
            },
            "scope": 933,
            "src": "10886:71:7",
            "stateMutability": "view",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 860,
              "nodeType": "StructuredDocumentation",
              "src": "10963:298:7",
              "text": " @notice Returns true if the payment accepts a refund to the buyer\n @dev The payment must be in ASSET_TRANSFERRING and beyond expirationTime.\n @param paymentId The unique ID that identifies the payment.\n @return true if the payment accepts a refund to the buyer."
            },
            "functionSelector": "244aa5d7",
            "id": 867,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "acceptsRefunds",
            "nameLocation": "11275:14:7",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 863,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 862,
                  "mutability": "mutable",
                  "name": "paymentId",
                  "nameLocation": "11298:9:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 867,
                  "src": "11290:17:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes32",
                    "typeString": "bytes32"
                  },
                  "typeName": {
                    "id": 861,
                    "name": "bytes32",
                    "nodeType": "ElementaryTypeName",
                    "src": "11290:7:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes32",
                      "typeString": "bytes32"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "11289:19:7"
            },
            "returnParameters": {
              "id": 866,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 865,
                  "mutability": "mutable",
                  "name": "",
                  "nameLocation": "-1:-1:-1",
                  "nodeType": "VariableDeclaration",
                  "scope": 867,
                  "src": "11332:4:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bool",
                    "typeString": "bool"
                  },
                  "typeName": {
                    "id": 864,
                    "name": "bool",
                    "nodeType": "ElementaryTypeName",
                    "src": "11332:4:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "11331:6:7"
            },
            "scope": 933,
            "src": "11266:72:7",
            "stateMutability": "view",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 868,
              "nodeType": "StructuredDocumentation",
              "src": "11344:200:7",
              "text": " @notice Returns the address of the of the contract containing\n  the implementation of the EIP712 verifying functions\n @return the address of the EIP712 verifier contract"
            },
            "functionSelector": "4bfc75fc",
            "id": 873,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "EIP712Address",
            "nameLocation": "11558:13:7",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 869,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "11571:2:7"
            },
            "returnParameters": {
              "id": 872,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 871,
                  "mutability": "mutable",
                  "name": "",
                  "nameLocation": "-1:-1:-1",
                  "nodeType": "VariableDeclaration",
                  "scope": 873,
                  "src": "11597:7:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 870,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "11597:7:7",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "11596:9:7"
            },
            "scope": 933,
            "src": "11549:57:7",
            "stateMutability": "view",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 874,
              "nodeType": "StructuredDocumentation",
              "src": "11612:226:7",
              "text": " @notice Returns the amount of seconds that a payment\n  can remain in ASSET_TRANSFERRING state without positive\n  or negative confirmation by the operator\n @return the payment window in secs"
            },
            "functionSelector": "cab55d56",
            "id": 879,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "paymentWindow",
            "nameLocation": "11852:13:7",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 875,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "11865:2:7"
            },
            "returnParameters": {
              "id": 878,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 877,
                  "mutability": "mutable",
                  "name": "",
                  "nameLocation": "-1:-1:-1",
                  "nodeType": "VariableDeclaration",
                  "scope": 879,
                  "src": "11891:7:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 876,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "11891:7:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "11890:9:7"
            },
            "scope": 933,
            "src": "11843:57:7",
            "stateMutability": "view",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 880,
              "nodeType": "StructuredDocumentation",
              "src": "11906:143:7",
              "text": " @notice Returns a descriptor about the currency that this contract accepts\n @return the string describing the currency"
            },
            "functionSelector": "1c6d7675",
            "id": 885,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "acceptedCurrency",
            "nameLocation": "12063:16:7",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 881,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "12079:2:7"
            },
            "returnParameters": {
              "id": 884,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 883,
                  "mutability": "mutable",
                  "name": "",
                  "nameLocation": "-1:-1:-1",
                  "nodeType": "VariableDeclaration",
                  "scope": 885,
                  "src": "12105:13:7",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_string_memory_ptr",
                    "typeString": "string"
                  },
                  "typeName": {
                    "id": 882,
                    "name": "string",
                    "nodeType": "ElementaryTypeName",
                    "src": "12105:6:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_string_storage_ptr",
                      "typeString": "string"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "12104:15:7"
            },
            "scope": 933,
            "src": "12054:66:7",
            "stateMutability": "view",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 886,
              "nodeType": "StructuredDocumentation",
              "src": "12126:464:7",
              "text": " @notice Returns true if the 'amount' required for a payment is available to this contract.\n @dev In more detail: returns true if the sum of the buyer's local balance in this contract,\n  plus the external balance in the native crypto, are larger or equal than 'amount'\n @param buyer The address for which funds are queried\n @param amount The amount that is queried\n @return Returns true if enough funds are available"
            },
            "functionSelector": "9cfd495c",
            "id": 895,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "enoughFundsAvailable",
            "nameLocation": "12604:20:7",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 891,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 888,
                  "mutability": "mutable",
                  "name": "buyer",
                  "nameLocation": "12633:5:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 895,
                  "src": "12625:13:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 887,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "12625:7:7",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 890,
                  "mutability": "mutable",
                  "name": "amount",
                  "nameLocation": "12648:6:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 895,
                  "src": "12640:14:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 889,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "12640:7:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "12624:31:7"
            },
            "returnParameters": {
              "id": 894,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 893,
                  "mutability": "mutable",
                  "name": "",
                  "nameLocation": "-1:-1:-1",
                  "nodeType": "VariableDeclaration",
                  "scope": 895,
                  "src": "12703:4:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bool",
                    "typeString": "bool"
                  },
                  "typeName": {
                    "id": 892,
                    "name": "bool",
                    "nodeType": "ElementaryTypeName",
                    "src": "12703:4:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "12702:6:7"
            },
            "scope": 933,
            "src": "12595:114:7",
            "stateMutability": "view",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 896,
              "nodeType": "StructuredDocumentation",
              "src": "12715:329:7",
              "text": " @notice Returns the maximum amount of funds available to a buyer\n @dev In more detail: returns the sum of the buyer's local balance in this contract,\n  plus the external balance in the native crypto.\n @param buyer The address for which funds are queried\n @return the max funds available"
            },
            "functionSelector": "c67eb9e5",
            "id": 903,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "maxFundsAvailable",
            "nameLocation": "13058:17:7",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 899,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 898,
                  "mutability": "mutable",
                  "name": "buyer",
                  "nameLocation": "13084:5:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 903,
                  "src": "13076:13:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 897,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "13076:7:7",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "13075:15:7"
            },
            "returnParameters": {
              "id": 902,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 901,
                  "mutability": "mutable",
                  "name": "",
                  "nameLocation": "-1:-1:-1",
                  "nodeType": "VariableDeclaration",
                  "scope": 903,
                  "src": "13114:7:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 900,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "13114:7:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "13113:9:7"
            },
            "scope": 933,
            "src": "13049:74:7",
            "stateMutability": "view",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 904,
              "nodeType": "StructuredDocumentation",
              "src": "13129:595:7",
              "text": " @notice Splits the funds required to pay 'amount' into two sources:\n  - externalFunds: the amount of crypto required to be transferred from the external buyer balance\n  - localFunds: the amount of crypto required from the buyer's already available balance in this contract.\n @param buyer The address for which the amount is to be split\n @param amount The amount to be split\n @return externalFunds The amount of funds required to be transferred from the external buyer balance\n @return localFunds The amount of local funds that will be used."
            },
            "functionSelector": "317cb018",
            "id": 915,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "splitFundingSources",
            "nameLocation": "13738:19:7",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 909,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 906,
                  "mutability": "mutable",
                  "name": "buyer",
                  "nameLocation": "13766:5:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 915,
                  "src": "13758:13:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 905,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "13758:7:7",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 908,
                  "mutability": "mutable",
                  "name": "amount",
                  "nameLocation": "13781:6:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 915,
                  "src": "13773:14:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 907,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "13773:7:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "13757:31:7"
            },
            "returnParameters": {
              "id": 914,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 911,
                  "mutability": "mutable",
                  "name": "externalFunds",
                  "nameLocation": "13844:13:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 915,
                  "src": "13836:21:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 910,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "13836:7:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 913,
                  "mutability": "mutable",
                  "name": "localFunds",
                  "nameLocation": "13867:10:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 915,
                  "src": "13859:18:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 912,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "13859:7:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "13835:43:7"
            },
            "scope": 933,
            "src": "13729:150:7",
            "stateMutability": "view",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 916,
              "nodeType": "StructuredDocumentation",
              "src": "13885:139:7",
              "text": " @notice Reverts unless the requirements for a PaymentInput are fulfilled.\n @param payInput The PaymentInput struct"
            },
            "functionSelector": "caa3cecc",
            "id": 922,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "checkPaymentInputs",
            "nameLocation": "14038:18:7",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 920,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 919,
                  "mutability": "mutable",
                  "name": "payInput",
                  "nameLocation": "14079:8:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 922,
                  "src": "14057:30:7",
                  "stateVariable": false,
                  "storageLocation": "calldata",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_PaymentInput_$951_calldata_ptr",
                    "typeString": "struct ISignableStructs.PaymentInput"
                  },
                  "typeName": {
                    "id": 918,
                    "nodeType": "UserDefinedTypeName",
                    "pathNode": {
                      "id": 917,
                      "name": "PaymentInput",
                      "nodeType": "IdentifierPath",
                      "referencedDeclaration": 951,
                      "src": "14057:12:7"
                    },
                    "referencedDeclaration": 951,
                    "src": "14057:12:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_PaymentInput_$951_storage_ptr",
                      "typeString": "struct ISignableStructs.PaymentInput"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "14056:32:7"
            },
            "returnParameters": {
              "id": 921,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "14102:0:7"
            },
            "scope": 933,
            "src": "14029:74:7",
            "stateMutability": "view",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 923,
              "nodeType": "StructuredDocumentation",
              "src": "14132:396:7",
              "text": " @notice Safe computation of fee amount for a provided amount, feeBPS pair\n @dev Must return a value that is guaranteed to be less or equal to the provided amount\n @param amount The amount\n @param feeBPS The percentage fee expressed in Basis Points (bps).\n  feeBPS examples:  2.5% = 250 bps, 10% = 1000 bps, 100% = 10000 bps\n @return The fee amount"
            },
            "functionSelector": "2af41be4",
            "id": 932,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "computeFeeAmount",
            "nameLocation": "14542:16:7",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 928,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 925,
                  "mutability": "mutable",
                  "name": "amount",
                  "nameLocation": "14567:6:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 932,
                  "src": "14559:14:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 924,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "14559:7:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 927,
                  "mutability": "mutable",
                  "name": "feeBPS",
                  "nameLocation": "14583:6:7",
                  "nodeType": "VariableDeclaration",
                  "scope": 932,
                  "src": "14575:14:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 926,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "14575:7:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "14558:32:7"
            },
            "returnParameters": {
              "id": 931,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 930,
                  "mutability": "mutable",
                  "name": "",
                  "nameLocation": "-1:-1:-1",
                  "nodeType": "VariableDeclaration",
                  "scope": 932,
                  "src": "14638:7:7",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 929,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "14638:7:7",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "14637:9:7"
            },
            "scope": 933,
            "src": "14533:114:7",
            "stateMutability": "pure",
            "virtual": false,
            "visibility": "external"
          }
        ],
        "scope": 934,
        "src": "1921:12728:7",
        "usedErrors": []
      }
    ],
    "src": "32:14618:7"
  },
  "compiler": {
    "name": "solc",
    "version": "0.8.12+commit.f00d7308.Emscripten.clang"
  },
  "networks": {},
  "schemaVersion": "3.4.5",
  "updatedAt": "2022-05-27T10:47:09.377Z",
  "devdoc": {
    "author": "Freeverse.io, www.freeverse.io",
    "details": "Upon transfer of cryptocurrency to this contract, it remains locked until an Operator confirms the success or failure of the asset transfer required to fulfil this payment. If no confirmation is received from the operator during the PaymentWindow, all funds received from the buyer are made available to the buyer for refund. To start a payment, signatures of both the buyer and the Operator are required: - the buyer is the msg.sender (the buyer therefore signs the TX),  - the operator's EIP712-signature of the PaymentInput struct is provided as input to the call. This contract maintains the balances of all users, it does not transfer them automatically. Users need to explicitly call the 'withdraw' method, which withdraws balanceOf[msg.sender] If a buyer has a non-zero local balance at the moment of starting a new payment, the contract reuses it, and only requires the provision of the remainder required (if any) as msg.value Each payment has the following State Machine: - NOT_STARTED -> ASSET_TRANSFERRING, triggered by pay - ASSET_TRANSFERRING -> PAID, triggered by relaying assetTransferSuccess signed by operator - ASSET_TRANSFERRING -> REFUNDED, triggered by relaying assetTransferFailed signed by operator - ASSET_TRANSFERRING -> REFUNDED, triggered by a refund request after expirationTime NOTE: To ensure that the payment process proceeds as expected when the payment starts, upon acceptance of a payment, the following data: {operator, feesCollector, expirationTime} is stored in the payment struct, and used throughout the payment, regardless of any possible modifications to the contract's storage.",
    "events": {
      "BuyerRefunded(bytes32,address)": {
        "details": "Event emitted when a buyer is refunded for a given payment process",
        "params": {
          "buyer": "The address of the refunded buyer",
          "paymentId": "The id of the already initiated payment "
        }
      },
      "EIP712(address)": {
        "details": "Event emitted on change of EIP712 verifier contract address",
        "params": {
          "eip712address": "The address of the new EIP712 verifier contract"
        }
      },
      "NewSeller(address)": {
        "details": "Event emitted when a user executes the registerAsSeller method",
        "params": {
          "seller": "The address of the newly registeredAsSeller user."
        }
      },
      "Paid(bytes32)": {
        "details": "Event emitted when a payment process arrives at the PAID   final state, where the seller receives the funds.",
        "params": {
          "paymentId": "The id of the already initiated payment "
        }
      },
      "PayIn(bytes32,address,address)": {
        "details": "Event emitted when funds for a given payment arrive to this contract",
        "params": {
          "buyer": "The address of the buyer providing the funds",
          "paymentId": "The unique id identifying the payment ",
          "seller": "The address of the seller of the asset"
        }
      },
      "PaymentWindow(uint256)": {
        "details": "Event emitted on change of payment window",
        "params": {
          "window": "The new amount of time after the arrival of a payment for which,   in absence of confirmation of asset transfer success, a buyer is allowed to refund"
        }
      },
      "Withdraw(address,uint256)": {
        "details": "Event emitted when user withdraws funds from this contract",
        "params": {
          "amount": "The amount withdrawn, in lowest units of the native cryptocurrency",
          "user": "The address of the user that withdraws"
        }
      }
    },
    "kind": "dev",
    "methods": {
      "EIP712Address()": {
        "returns": {
          "_0": "the address of the EIP712 verifier contract"
        }
      },
      "acceptedCurrency()": {
        "returns": {
          "_0": "the string describing the currency"
        }
      },
      "acceptsRefunds(bytes32)": {
        "details": "The payment must be in ASSET_TRANSFERRING and beyond expirationTime.",
        "params": {
          "paymentId": "The unique ID that identifies the payment."
        },
        "returns": {
          "_0": "true if the payment accepts a refund to the buyer."
        }
      },
      "balanceOf(address)": {
        "params": {
          "addr": "the address that is queried"
        },
        "returns": {
          "_0": "the local balance"
        }
      },
      "checkPaymentInputs((bytes32,uint256,uint256,uint256,uint256,address,address))": {
        "params": {
          "payInput": "The PaymentInput struct"
        }
      },
      "computeFeeAmount(uint256,uint256)": {
        "details": "Must return a value that is guaranteed to be less or equal to the provided amount",
        "params": {
          "amount": "The amount",
          "feeBPS": "The percentage fee expressed in Basis Points (bps).  feeBPS examples:  2.5% = 250 bps, 10% = 1000 bps, 100% = 10000 bps"
        },
        "returns": {
          "_0": "The fee amount"
        }
      },
      "enoughFundsAvailable(address,uint256)": {
        "details": "In more detail: returns true if the sum of the buyer's local balance in this contract,  plus the external balance in the native crypto, are larger or equal than 'amount'",
        "params": {
          "amount": "The amount that is queried",
          "buyer": "The address for which funds are queried"
        },
        "returns": {
          "_0": "Returns true if enough funds are available"
        }
      },
      "finalize((bytes32,bool),bytes)": {
        "details": "Can be executed by anyone, but the operator signature must be included as input param.  Seller or Buyer's balances are updated, allowing explicit withdrawal.  Moves payment to PAID or REFUNDED state on transfer success/failure, respectively.",
        "params": {
          "operatorSignature": "The operator signature of transferResult",
          "transferResult": "The asset transfer result struct signed by the operator."
        }
      },
      "finalizeAndWithdraw((bytes32,bool),bytes)": {
        "details": "Can be executed by anyone, but the operator signature must be included as input param.  It is, however, expected to be executed by the seller, in case of a successful asset transfer,  or the buyer, in case of a failed asset transfer.  Moves payment to PAID or REFUNDED state on transfer success/failure, respectively.",
        "params": {
          "operatorSignature": "The operator signature of transferResult",
          "transferResult": "The asset transfer result struct signed by the operator."
        }
      },
      "isRegisteredSeller(address)": {
        "params": {
          "addr": "the address that is queried"
        },
        "returns": {
          "_0": "Returns whether the address is registered as seller"
        }
      },
      "isSellerRegistrationRequired()": {
        "returns": {
          "_0": "Returns true if sellers need to be registered to be able to accept payments"
        }
      },
      "maxFundsAvailable(address)": {
        "details": "In more detail: returns the sum of the buyer's local balance in this contract,  plus the external balance in the native crypto.",
        "params": {
          "buyer": "The address for which funds are queried"
        },
        "returns": {
          "_0": "the max funds available"
        }
      },
      "pay((bytes32,uint256,uint256,uint256,uint256,address,address),bytes)": {
        "details": "Executed by the buyer, who relays the MetaTX with the operator's signature.  The buyer must provide the correct amount via msg.value.  If all requirements are fulfilled, it stores the data relevant  for the next steps of the payment, and it locks the funds  in this contract.  Follows standard Checks-Effects-Interactions pattern  to protect against re-entrancy attacks.  Moves payment to ASSET_TRANSFERRING state.",
        "params": {
          "operatorSignature": "The signature of 'payInput' by the operator",
          "payInput": "The struct containing all required payment data"
        }
      },
      "paymentInfo(bytes32)": {
        "params": {
          "paymentId": "The unique ID that identifies the payment."
        },
        "returns": {
          "_0": "the struct stored for the payment"
        }
      },
      "paymentState(bytes32)": {
        "details": "If payment is in ASSET_TRANSFERRING, it may be worth  checking acceptsRefunds ot check if it has gone beyond expirationTime.",
        "params": {
          "paymentId": "The unique ID that identifies the payment."
        },
        "returns": {
          "_0": "the state of the payment."
        }
      },
      "paymentWindow()": {
        "returns": {
          "_0": "the payment window in secs"
        }
      },
      "refund(bytes32)": {
        "details": "Anybody can call this function.  Requires acceptsRefunds == true to proceed.  After updating buyer's balance, he/she can later withdraw.  Moves payment to REFUNDED state.",
        "params": {
          "paymentId": "The unique ID that identifies the payment."
        }
      },
      "refundAndWithdraw(bytes32)": {
        "details": "Anybody can call this function.  Requires acceptsRefunds == true to proceed.  All of msg.sender's balance in the contract is withdrawn,  not only the part that was locked in this particular paymentId  Moves payment to REFUNDED state.",
        "params": {
          "paymentId": "The unique ID that identifies the payment."
        }
      },
      "splitFundingSources(address,uint256)": {
        "params": {
          "amount": "The amount to be split",
          "buyer": "The address for which the amount is to be split"
        },
        "returns": {
          "externalFunds": "The amount of funds required to be transferred from the external buyer balance",
          "localFunds": "The amount of local funds that will be used."
        }
      },
      "withdrawAmount(uint256)": {
        "params": {
          "amount": "The required amount to withdraw"
        }
      }
    },
    "title": "Interface to Payments Contract in Native Cryptocurencies.",
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {
      "EIP712Address()": {
        "notice": "Returns the address of the of the contract containing  the implementation of the EIP712 verifying functions"
      },
      "acceptedCurrency()": {
        "notice": "Returns a descriptor about the currency that this contract accepts"
      },
      "acceptsRefunds(bytes32)": {
        "notice": "Returns true if the payment accepts a refund to the buyer"
      },
      "balanceOf(address)": {
        "notice": "Returns the local balance of the provided address that is stored in this  contract, and hence, available for withdrawal."
      },
      "checkPaymentInputs((bytes32,uint256,uint256,uint256,uint256,address,address))": {
        "notice": "Reverts unless the requirements for a PaymentInput are fulfilled."
      },
      "computeFeeAmount(uint256,uint256)": {
        "notice": "Safe computation of fee amount for a provided amount, feeBPS pair"
      },
      "enoughFundsAvailable(address,uint256)": {
        "notice": "Returns true if the 'amount' required for a payment is available to this contract."
      },
      "finalize((bytes32,bool),bytes)": {
        "notice": "Relays the operator signature declaring that the asset transfer was successful or failed,  and updates balances of seller or buyer, respectively."
      },
      "finalizeAndWithdraw((bytes32,bool),bytes)": {
        "notice": "Relays the operator signature declaring that the asset transfer was successful or failed,  updates balances of seller or buyer, respectively,  and proceeds to withdraw all funds in this contract available to msg.sender."
      },
      "isRegisteredSeller(address)": {
        "notice": "Returns true if the address provided is a registered seller"
      },
      "isSellerRegistrationRequired()": {
        "notice": "Returns whether sellers need to be registered to be able to accept payments"
      },
      "maxFundsAvailable(address)": {
        "notice": "Returns the maximum amount of funds available to a buyer"
      },
      "pay((bytes32,uint256,uint256,uint256,uint256,address,address),bytes)": {
        "notice": "Starts Payment process by the buyer."
      },
      "paymentInfo(bytes32)": {
        "notice": "Returns all data stored in a payment"
      },
      "paymentState(bytes32)": {
        "notice": "Returns the state of a payment."
      },
      "paymentWindow()": {
        "notice": "Returns the amount of seconds that a payment  can remain in ASSET_TRANSFERRING state without positive  or negative confirmation by the operator"
      },
      "refund(bytes32)": {
        "notice": "Moves buyer's provided funds to buyer's balance."
      },
      "refundAndWithdraw(bytes32)": {
        "notice": "Executes refund and withdraw in one transaction."
      },
      "registerAsSeller()": {
        "notice": "Registers msg.sender as seller so that, if the contract has set  _isSellerRegistrationRequired = true, then payments will be accepted with  msg.sender as seller."
      },
      "splitFundingSources(address,uint256)": {
        "notice": "Splits the funds required to pay 'amount' into two sources:  - externalFunds: the amount of crypto required to be transferred from the external buyer balance  - localFunds: the amount of crypto required from the buyer's already available balance in this contract."
      },
      "withdraw()": {
        "notice": "Transfers funds avaliable in this  contract's balanceOf[msg.sender] to msg.sender"
      },
      "withdrawAmount(uint256)": {
        "notice": "Transfers only the specified amount  from this contract's balanceOf[msg.sender] to msg.sender.  Reverts if balanceOf[msg.sender] < amount."
      }
    },
    "version": 1
  }
}